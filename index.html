var newauthLine1 = "Verified failures using RF diagnostic.";
var newauthLine2 = "Contract has coverage for failed components.";
var newauthLine3 = "Verified OEM parts using Forte and AM parts using PA.";
var newauthLine4 = "Verified labor using Pro Demand.";
var newauthLine5 = "Verified payment info with repair facility at: ";

document.getElementById("auth1").value = "Using repair facility OEM parts at or under $250.00.";
document.getElementById("auth2").value = "Using repair facility parts at or under sourcing MCE.";
document.getElementById("auth3").value = "Using sourcing MCE as a credit toward repair facility parts.";
document.getElementById("auth4").value = "Using sourcing MCE as a credit toward repair facility parts or shipping in.";
document.getElementById("auth5").value = "Adjusted price to reasonable amount near MCE.\rThis was done considering all factors including claim delays,\rshipping costs, liability for future failures, time and mileage\rin coverage, number of prior claims and their cost, etc.";

var inspAuth1 = "No inspection needed as RF diagnostic matches CH concern.";
var inspAuth2 = "Sent inspection to verify failures.\rReviewed report and inspection photos.\rInspection review note is completed.";
var inspAuth3 = "Requested and reviewed photos from repair facility.\rPhoto review note is completed.";
var recordsAuth1 = "No records requested as history will not change claim decision.\rVehicle is not in waiting period.\rConcern is not maintenance related.\rNo prior related claims.\rNo recalls, TSBs, or mileage concerns.";
var recordsAuth2 = "Requested and reviewed records and statement.\rRecord review note is completed.";
var requestedAuth1 = "After reviewing all relevant documentation, we are moving forward with verified failures.";
var oopcsAuth1 = "Need to review OOPC of $";
var oopcsAuth2a = " with contract holder.";
var oopcsAuth2b = " and shipping option with contract holder.";
var oopcsAuth2c = "OOPC is due to differences in ";
var oopcsAuth3 = "Need to review shipping option with contract holder.";
var oopcsAuth3a = "Have not given authorization info to RF at this time.";
var oopcsAuth4 = "Contract holder has no OOPC besides deductible.";
var oopcsAuth4a = "Gave authorization info and payment instructions to RF.";
var noncovAuth1 = "Will inform CH of non-covered components";

var PicturesReuest = "Requesting photos from RF to verify failure and avoid inspection delay.\rInforming RF to include pics of all 4 corners of the vehicle, VIN plate, odometer, and pictures of the failure.\rSent request via SRS action button.";
var RecordsRequested = "Requesting CH statement regarding issues.\rRequesting past 12 months of service records from CH.\rSent records request using SRS action button.\rWill call CH to inform.";
var InspectionTemplate = "Please verify all failures.\rPlease contact 1-2 hours prior to arrival.\rContact:   \rPhone:   \rEmail:   ";
var StatementTemplate = "What happened:   \rWhen did the issue first occur:   \rHad the issue occurred before:   \rIf yes, when:   \rAny warning lights:   \rAny noise, smoke, or smell:   \rHow long has the CH owned the vehicle:   \rApproximate mileage when CH purchased:   \rWas vehicle towed to RF:   \rFrom where and by whom:   \r";
var ReviewNote = "Reviewed inspection photos and report.\rReviewed photos sent by repair facility.\rVerified vin.\rVerified mileage.\rNo indication of commercial use.\rNo indication of modification.\r\r"
var PtTransfer1 = "Is the repair facility able to diagnose to cause of failure and overhaul if needed?   ";
var PtTransfer2 = "Has the repair facility ever serviced the vehicle before?   ";
var PtTransfer3 = "Can a test drive be performed if needed?   ";
var PtTransfer4 = "Did the repair facility tow the vehicle?   ";
var PtTransfer5 = "Has the cause of failure been identified?   ";
var PtTransfer6 = "Does the repair facility have an itemized estimate available?   ";
var PtTransfer7 = "Has the repair facility's info and contact info been verified?   ";
var PtTransfer8 = "What is the preferred method of contact?   ";
var PtTransfer9 = "Have the PT claim expectations been reviewed with the repair facility contact?   ";
var PtTransfer10 = "Have you provided the repair facility with the assigned adjusters name, direct extension, and e-mail?   ";
var PtTransfer11 = "Is there any other relevant info that will assist the adjuster?   ";
var NoAnswerOOPC = "Called CH for OOPC auth.\rNo answer – left voicemail.\rTasked to CS callbacks.";
var ChAuthedOOPC = "Called CH for OOPC and shipping auth.\rCH has approved OOPC.\rCH has approved shipping.";
var NoAnsRecdsRqst = "Called CH to request records.\rCalled CH to request statement.\rNo answer – left voicemail.\rTasked to CS callbacks.";
var NewOEMpart = "Verified OEM PN:   \rVerified MSRP:   \rRF Price:   \r\r";
var OemOver250 = "PA PN:   \rPA List:   \rPA Cost:   \rCore: NA\r\r";
var NewAMpart = "RF AM PN:   \rRF Price:   \rPA PN:   \rPA List:   \rPA Cost:   \rCore: NA\r\r";
var BulkFluid = "BULK:   \rRF Price:   \rFPS Allows:   \r\r";
var Labor = "RF Asking:   \rPD Approved:   \r\r";
var Diag = "Diag\rRF Asking:   \rPD Approved:   \r\r";
var EvacRechrge = "Evac and Recharge\rRF Asking:   \rPD Approved:   1.4\r\r";
var Alignment = "Alignment\rRF Asking:   \rPD Approved:   \r\r";
var NoPAIHSourcing = "Nothing available in PA.\rSent to in house sourcing.\r\r";
var ToEdit;
var ButDidYouDie = "no";
var IDset = [];
var imBusy = "false";

  var resizeNode = document.querySelectorAll(".R");
  var displayNode = document.querySelectorAll(".D");
  var moveNode = document.querySelectorAll(".P");
  var contentNode = document.querySelectorAll(".C");

  var buttonNode = document.querySelectorAll("button");
  var idNode = document.querySelectorAll('*[id]');
  var divNode = document.getElementsByTagName("div");
  var menuNode = document.querySelectorAll(".CMeditDIV");
  var showNode = document.querySelectorAll('[class$="dispStat"]');

  var menuList = Array.from(menuNode);
  var showList = Array.from(showNode);
  var divList = Array.from(divNode);
  var idList =  Array.from(idNode);
  var buttonList = Array.from(buttonNode);
  var moveList = Array.from(moveNode);
  var resizeList = Array.from(resizeNode);
  var displayList = Array.from(displayNode);
  var contentList = Array.from(contentNode);

  var theMenu = document.getElementById("LOCK1");
  var ETPHONEHOME = document.getElementById("PHONE");
  var BtnBuilder = document.getElementById("BtnBuilder");
  var buttonMaker = document.getElementById("buttonMaker");

var AUTHFOR = document.getElementById("TGAFBTN");
var AUTHFORO = document.getElementById("TGAFOBTN");
var AUTHFORS = document.getElementById("TGAFSBTN");
var AUTHFORB = document.getElementById("TGAFBBTN");
var OOPAUTHED = document.getElementById("TGAFOABTN");
var OOPDENY = document.getElementById("TGAFODBTN");
var OOPCB = document.getElementById("TGAFOCBTN");
var SHIPAUTHED = document.getElementById("TGAFSABTN");
var SHIPDENY = document.getElementById("TGAFSDBTN");
var SHIPCB = document.getElementById("TGAFSCBTN");
var OASAUTHED = document.getElementById("TGAFOSABTN");
var OASDENYSHIP = document.getElementById("TGAFOSDSBTN");
var OASDENYBOTH = document.getElementById("TGAFOSDBBTN");
var OASCB = document.getElementById("TGAFOSCBTN");
var LEFTVM = document.getElementById("NALVM");
var NOVM = document.getElementById("NANVM");
var VMREASON = "TempString";
var other = document.getElementById("other");
var RFINBOUND = document.getElementById("RFIBBTN");
var CHOUTBOUND = document.getElementById("CHOBBTN");
var DIDNTHAVE = document.getElementById("RFIBDH");
var DIAGNOSTIC = document.getElementById("RFIBND");
var ESTIMATE = document.getElementById("RFIBNE");
var FAILURE = document.getElementById("RFIBNF");
var VEHICLE = document.getElementById("RFIBNV");
var RFPNLC = document.getElementById("PNLCBTN");
var RFTOTALS = document.getElementById("TOTALBTN");
var RFAUTH = document.getElementById("RFAUTHBTN");
var DaddySaysSo = false;
var SNIPPETAREA = document.getElementById("Snippings");
var SNIPPETDIV = document.getElementById("snipbox");

function RESET(){
  document.getElementById("textarea3").value = document.getElementById("textarea1").value + "\r\r" + document.getElementById("textarea3").value;
  document.getElementById("textarea3").value += document.getElementById("textarea2").value;
  document.getElementById("textareadata").value = document.getElementById("textareadata").value + "\r\r" + document.getElementById("textarea3").value;
  let textarea = document.getElementById("textarea3");
  textarea.select();
  document.execCommand("copy");
  document.getElementById("textarea3").value = "";
  document.getElementById("textarea2").value = "";
  document.getElementById("textarea1").value = "CONTACT:   \rPAYMENT:   \rZIPCODE:   \rMILEAGE:   \rDISTANCE:   \rTIME:   ";
  document.getElementById("partname1").value = "";
  document.getElementById("partname2").value = "";
  document.getElementById("partname3").value = "";
  document.getElementById("partname4").value = "";
  document.getElementById("partname5").value = "";
  document.getElementById("partname6").value = "";
  document.getElementById("partname7").value = "";
  document.getElementById("partnum").value = "";
  document.getElementById("rfprice").value = "";
  document.getElementById("msrp").value = "";
  document.getElementById("partname2").style.display = "none";
  document.getElementById("partname3").style.display = "none";
  document.getElementById("partname4").style.display = "none";
  document.getElementById("partname5").style.display = "none";
  document.getElementById("partname6").style.display = "none";
  document.getElementById("partname7").style.display = "none";
  RFINBOUND.style.display = "inline-block";
  AUTHFOR.style.display = "inline-block";
  DIDNTHAVE.style.display = "none";
  DIAGNOSTIC.style.display = "none";
  ESTIMATE.style.display = "none";
  FAILURE.style.display = "none";
  VEHICLE.style.display = "none";
  RFPNLC.style.display = "none";
  RFTOTALS.style.display = "none";
  RFAUTH.style.display = "none";
  AUTHFORO.style.display = "none";
  AUTHFORS.style.display = "none";
  AUTHFORB.style.display = "none";
  OOPAUTHED.style.display = "none";
  OOPDENY.style.display = "none";
  OOPCB.style.display = "none";
  SHIPAUTHED.style.display = "none";
  SHIPDENY.style.display = "none";
  SHIPCB.style.display = "none";
  OASAUTHED.style.display = "none";
  OASDENYSHIP.style.display = "none";
  OASDENYBOTH.style.display = "none";
  OASCB.style.display = "none";
  SNIPPETAREA.style.display = "none";
  document.getElementById("Snippings").value = "";
  newpartcount = 2;
  document.getElementById("transferTemplate").style.display = "none";
  document.getElementById("statNote").style.display = "none";
  document.getElementById("newAuthstyle").style.display = "none";
  document.getElementById("TPDiv").style.display = "none";
}

function CloseIt(){
  SNIPPETDIV.style.display = "none";
}

function ClearText(){
  document.getElementById("Snippings").value = "";
}

function COPYIt(){
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  RESETNOTE();
}

function TGAF(){
  if (checkOpen()) { return; }
  document.getElementById("Snippings").value = "";
  SNIPPETAREA.style.display = "none";
  AUTHFORO.style.display = "inline-block";
  AUTHFORS.style.display = "inline-block";
  AUTHFORB.style.display = "inline-block";
}

function TGAFO(){
  OOPAUTHED.style.display = "inline-block";
  OOPDENY.style.display = "inline-block"; 
  OOPCB.style.display = "inline-block"; 
  LEFTVM.style.display = "inline-block";
  NOVM.style.display = "inline-block";
  AUTHFORO.style.display = "none";
  AUTHFORS.style.display = "none";
  AUTHFORB.style.display = "none";
  VMREASON = "Called CH to get auth for OOPC.\r";
}

function TGAFS(){
  SHIPAUTHED.style.display = "inline-block";
  SHIPDENY.style.display = "inline-block"; 
  SHIPCB.style.display = "inline-block"; 
  LEFTVM.style.display = "inline-block";
  NOVM.style.display = "inline-block";
  AUTHFORO.style.display = "none";
  AUTHFORS.style.display = "none";
  AUTHFORB.style.display = "none";
  VMREASON = "Called CH to get auth for shipping.\r";
}

function TGAFB(){
  LEFTVM.style.left = "400px";
  NOVM.style.left = "400px";
  OASAUTHED.style.display = "inline-block";
  OASDENYSHIP.style.display = "inline-block";
  OASDENYBOTH.style.display = "inline-block";
  OASCB.style.display = "inline-block";
  LEFTVM.style.display = "inline-block";
  NOVM.style.display = "inline-block";
  AUTHFORO.style.display = "none";
  AUTHFORS.style.display = "none";
  AUTHFORB.style.display = "none";
  VMREASON = "Called CH to get auth for OOPC and shipping.\r";
}

function TGAFOA(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check == null) {
    document.getElementById("Snippings").value = "Called CH to get auth for OOPC.\rCH approved OOPC.\rWill call RF to give auth info\r";
    document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  } else {
    document.getElementById("Snippings").value = Check;
    document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  OOPAUTHED.style.display = "none";
  OOPDENY.style.display = "none";
  OOPCB.style.display = "none";
  LEFTVM.style.display = "none";
  NOVM.style.display = "none";
}

function TGAFOD(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check == null) {
    document.getElementById("Snippings").value = "Called CH to get auth for OOPC.\rCH declined repairs at this time.\r";
    document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  } else {
    document.getElementById("Snippings").value = Check;
    document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  OOPAUTHED.style.display = "none";
  OOPDENY.style.display = "none";
  OOPCB.style.display = "none";
  LEFTVM.style.display = "none";
  NOVM.style.display = "none";
}

function TGAFOC(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check == null) {
    document.getElementById("Snippings").value = "Called CH to get auth for OOPC.\rCH will call back with decision.\r";
    document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  } else {
    document.getElementById("Snippings").value = Check;
    document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  OOPAUTHED.style.display = "none";
  OOPDENY.style.display = "none";
  OOPCB.style.display = "none";
  LEFTVM.style.display = "none";
  NOVM.style.display = "none";
}

function TGAFSA(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check == null) {
    document.getElementById("Snippings").value = "Called CH to get auth for shipping.\rCH approved shipping.\rWill call RF to inform and order part\r";
    document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  } else {
    document.getElementById("Snippings").value = Check;
    document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  SHIPAUTHED.style.display = "none";
  SHIPDENY.style.display = "none";
  SHIPCB.style.display = "none";
  LEFTVM.style.display = "none";
  NOVM.style.display = "none";
}

function TGAFSD(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check == null) {
    document.getElementById("Snippings").value = "Called CH to get auth for shipping.\rCH declined shipping and will use RF parts.\rCH has agreed to the OOPC.\rWill call RF to inform and give auth";
    document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  } else {
  document.getElementById("Snippings").value = Check;
  document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  SHIPAUTHED.style.display = "none";
  SHIPDENY.style.display = "none";
  SHIPCB.style.display = "none";
  LEFTVM.style.display = "none";
  NOVM.style.display = "none";
}

function TGAFSC(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check == null) {
    document.getElementById("Snippings").value = "Called CH to get auth for shipping.\rCH will call back with decision\r";
    document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  } else {
    document.getElementById("Snippings").value = Check;
    document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  SHIPAUTHED.style.display = "none";
  SHIPDENY.style.display = "none";
  SHIPCB.style.display = "none";
  LEFTVM.style.display = "none";
  NOVM.style.display = "none";
}

function TGAFOSA(btnID){
 var Check = localStorage.getItem(btnID + "EDIT");
 SNIPPETAREA.style.display = "inline-block";
 if (Check == null) {
 document.getElementById("Snippings").value = "Called CH to get auth for OOPC and shipping.\rCH approved OOPC and shipping.\rWill call RF to inform and order parts.\r";
 document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
 } else {
 document.getElementById("Snippings").value = Check;
 document.getElementById("EDITarea").value = Check;
 }
 let textarea = document.getElementById("Snippings");
 textarea.select();
 document.execCommand("copy");
 OASAUTHED.style.display = "none";
 OASDENYSHIP.style.display = "none";
 OASDENYBOTH.style.display = "none";
 OASCB.style.display = "none";
 LEFTVM.style.display = "none";
 NOVM.style.display = "none";
 LEFTVM.style.left = "270px";
 NOVM.style.left = "270px";
}

function TGAFOSDS(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check == null) {
    document.getElementById("Snippings").value = "Called CH to get auth for OOPC and shipping.\rCH declined shipping and will use RF parts.\rCH has agreed to the OOPC.\rWill call RF to inform and give auth";
    document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  } else {
    document.getElementById("Snippings").value = Check;
    document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  OASAUTHED.style.display = "none";
  OASDENYSHIP.style.display = "none";
  OASDENYBOTH.style.display = "none";
  OASCB.style.display = "none";
  LEFTVM.style.display = "none";
  NOVM.style.display = "none";
  LEFTVM.style.left = "270px";
  NOVM.style.left = "270px";
}

function TGAFOSDB(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check == null) {
    document.getElementById("Snippings").value = "Called CH to get auth for OOPC and shipping.\rCH declined repairs at  this time.\r";
   document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  } else {
    document.getElementById("Snippings").value = Check;
    document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  OASAUTHED.style.display = "none";
  OASDENYSHIP.style.display = "none";
  OASDENYBOTH.style.display = "none";
  OASCB.style.display = "none";
  LEFTVM.style.display = "none";
  NOVM.style.display = "none";
  LEFTVM.style.left = "270px";
  NOVM.style.left = "270px";
}

function TGAFOSC(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check == null) {
    document.getElementById("Snippings").value = "Called CH to get auth for OOPC and shipping.\rCH will call back with decision.\r";
    document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  } else {
    document.getElementById("Snippings").value = Check;
    document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  OASAUTHED.style.display = "none";
  OASDENYSHIP.style.display = "none";
  OASDENYBOTH.style.display = "none";
  OASCB.style.display = "none";
  LEFTVM.style.display = "none";
  NOVM.style.display = "none";
  LEFTVM.style.left = "270px";
  NOVM.style.left = "270px";
}

function RFIB(){
  if (checkOpen()) { return; }
  document.getElementById("Snippings").value = "";
  SNIPPETAREA.style.display = "none";
  RFAUTH.style.display = "inline-block";
  RFTOTALS.style.display = "inline-block";
  RFPNLC.style.display = "inline-block";
  DIDNTHAVE.style.display = "inline-block";
}

function RFIBDH(){
 DIAGNOSTIC.style.display = "inline-block";
 ESTIMATE.style.display = "inline-block";
 FAILURE.style.display = "inline-block";
 VEHICLE.style.display = "inline-block";
 RFAUTH.style.display = "none";
 RFTOTALS.style.display = "none";
 RFPNLC.style.display = "none";
 DIDNTHAVE.style.display = "none";
}

function RFIBND(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check === null) {
    document.getElementById("Snippings").value = "RF called in to start a claim.\rRF doesn't have a complete diagnostic\rADV RF of requirements to open claim\rRF understood and will call back when diag is complete\r";
  } else {
    document.getElementById("Snippings").value = Check;
  }
  document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  DIAGNOSTIC.style.display = "none";
  ESTIMATE.style.display = "none";
  FAILURE.style.display = "none";
  VEHICLE.style.display = "none";
}

function RFIBNE(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check == null) {
    document.getElementById("Snippings").value = "RF called in to start a claim.\rRF doesn't have estimate ready\rADV RF of requirements to open claim\rRF understood and will call back with estimate\r";
  } else {
    document.getElementById("Snippings").value = Check;
  }
  document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  DIAGNOSTIC.style.display = "none";
  ESTIMATE.style.display = "none";
  FAILURE.style.display = "none";
  VEHICLE.style.display = "none";
}

function RFIBNF(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check == null) {
    document.getElementById("Snippings").value = "RF called in to start a claim.\rRF doesn't have verified cause of failure\rADV RF of requirements to open claim\rRF understood and will call back when ready\r";
  } else {
    document.getElementById("Snippings").value = Check;
  }
  document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  DIAGNOSTIC.style.display = "none";
  ESTIMATE.style.display = "none";
  FAILURE.style.display = "none";
  VEHICLE.style.display = "none";
}

function RFIBNV(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check == null) {
    document.getElementById("Snippings").value = "RF called in to start a claim.\rCH vehicle is not at RF\rADV RF of requirements to open claim\rRF understood and will call back when vehicle has returned\r";
  } else {
    document.getElementById("Snippings").value = Check;
  }
  document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  DIAGNOSTIC.style.display = "none";
  ESTIMATE.style.display = "none";
  FAILURE.style.display = "none";
  VEHICLE.style.display = "none";
}

function PNLC(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check == null) {
    document.getElementById("Snippings").value = "RF called in with the following concerns:\r\rADV PNLC";
  } else {
    document.getElementById("Snippings").value = Check;
  }
  document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  RFAUTH.style.display = "none";
  RFTOTALS.style.display = "none";
  RFPNLC.style.display = "none";
  DIDNTHAVE.style.display = "none";
}

function TOTAL(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check == null) {
   document.getElementById("Snippings").value = "RF called in to go over totals.\rADV RF of totals. RF understood.";
  } else {
    document.getElementById("Snippings").value = Check;
  }
  document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  RFAUTH.style.display = "none";
  RFTOTALS.style.display = "none";
  RFPNLC.style.display = "none";
  DIDNTHAVE.style.display = "none";
}

function GAR(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  SNIPPETAREA.style.display = "inline-block";
  if (Check == null) {
    document.getElementById("Snippings").value = "RF called in to get auth info.\rVerified OOPC was authed via notes.\rGave RF auth and payment details.";
  } else {
    document.getElementById("Snippings").value = Check;
  }
  document.getElementById("EDITarea").value = document.getElementById("Snippings").value;
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  RFAUTH.style.display = "none";
  RFTOTALS.style.display = "none";
  RFPNLC.style.display = "none";
  DIDNTHAVE.style.display = "none";
}

function NAV(){
  SNIPPETAREA.style.display = "inline-block";
  document.getElementById("Snippings").value = VMREASON;
  document.getElementById("Snippings").value += "No answer - Left voicemail\rTasked to CS callbacks\r";
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  OOPAUTHED.style.display = "none";
  OOPDENY.style.display = "none";
  OOPCB.style.display = "none";
  SHIPAUTHED.style.display = "none";
  SHIPDENY.style.display = "none";
  SHIPCB.style.display = "none";
  OASAUTHED.style.display = "none";
  OASDENYSHIP.style.display = "none";
  OASDENYBOTH.style.display = "none";
  OASCB.style.display = "none";
  LEFTVM.style.display = "none";
  NOVM.style.display = "none";
  LEFTVM.style.left = "270px";
  NOVM.style.left = "270px";
}

function NAN(){
  SNIPPETAREA.style.display = "inline-block";
  document.getElementById("Snippings").value = VMREASON;
  document.getElementById("Snippings").value += "No answer - No voicemail available\rTasked to CS callbacks\r";
  let textarea = document.getElementById("Snippings");
  textarea.select();
  document.execCommand("copy");
  OOPAUTHED.style.display = "none";
  OOPDENY.style.display = "none";
  OOPCB.style.display = "none";
  SHIPAUTHED.style.display = "none";
  SHIPDENY.style.display = "none";
  SHIPCB.style.display = "none";
  OASAUTHED.style.display = "none";
  OASDENYSHIP.style.display = "none";
  OASDENYBOTH.style.display = "none";
  OASCB.style.display = "none";
  LEFTVM.style.display = "none";
  NOVM.style.display = "none";
  LEFTVM.style.left = "270px";
  NOVM.style.left = "270px";
}

function RESETNOTE(){
  RFINBOUND.style.display = "inline-block";
  AUTHFOR.style.display = "inline-block";
  DIDNTHAVE.style.display = "none";
  DIAGNOSTIC.style.display = "none";
  ESTIMATE.style.display = "none";
  FAILURE.style.display = "none";
  VEHICLE.style.display = "none";
  RFPNLC.style.display = "none";
  RFTOTALS.style.display = "none";
  RFAUTH.style.display = "none";
  AUTHFORO.style.display = "none";
  AUTHFORS.style.display = "none";
  AUTHFORB.style.display = "none";
  OOPAUTHED.style.display = "none";
  OOPDENY.style.display = "none";
  OOPCB.style.display = "none";
  SHIPAUTHED.style.display = "none";
  SHIPDENY.style.display = "none";
  SHIPCB.style.display = "none";
  OASAUTHED.style.display = "none";
  OASDENYSHIP.style.display = "none";
  OASDENYBOTH.style.display = "none";
  OASCB.style.display = "none";
  SNIPPETAREA.style.display = "none";
  LEFTVM.style.display = "none";
  NOVM.style.display = "none";
  document.getElementById("Snippings").value = "";
  LEFTVM.style.left = "270px";
  NOVM.style.left = "270px";
}

document.onkeydown = function(e) {
    if (e.ctrlKey && e.altKey && e.shiftKey && e.which == 85) {
      document.getElementById('myInfo').style.display = "inline-block";
  }
};


document.onkeyup = function(e) {
    if (e.ctrlKey && e.altKey && e.shiftKey && e.which == 85) {
      document.getElementById('myInfo').style.display = "none";
  }
};
  let newpartcount = 2;
  var menuOpen = false;

function checkOpen() {
  var TPDiv = document.getElementById("TPDiv");
  var statNote = document.getElementById("statNote");
  var Snippings = document.getElementById("Snippings");
  var RFIBDH = document.getElementById("RFIBDH");
  var RFIBND = document.getElementById("RFIBND");
  var TGAFOBTN = document.getElementById("TGAFOBTN");
  var TGAFOABTN = document.getElementById("TGAFOABTN");
  var TGAFSABTN = document.getElementById("TGAFSABTN");
  var TGAFOSABTN = document.getElementById("TGAFOSABTN");
  var newAuthstyle =   document.getElementById("newAuthstyle");

  if (Snippings.style.display == "inline-block") {
    return true;
  } else if (RFIBDH.style.display == "inline-block") {
    return true;
  } else if (TGAFOSABTN.style.display == "inline-block") {
    return true;
  } else if (RFIBND.style.display == "inline-block") {
    return true;
  } else if (TGAFOBTN.style.display == "inline-block") {
    return true;
  } else if (TGAFOABTN.style.display == "inline-block") {
    return true;
  } else if (TGAFSABTN.style.display == "inline-block") {
    return true;
  } else if (statNote.style.display == "inline-block") {
    return true;
  } else if (newAuthstyle.style.display == "inline-block") {
    return true;
  } else if (TPDiv.style.display == "inline-block") {
    return true;
  } else {
  return false;
  }
}

function ShowTemps() {
  var TPDiv = document.getElementById("TPDiv");
  var isOpen = checkOpen();
  if (TPDiv.style.display == "inline-block" || isOpen) {
    TPDiv.style.display = "none";
    return;
  }
  TPDiv.style.display = "inline-block";
}

function MENU() {
  document.getElementById("EDITarea").value = "";
  if (!menuOpen) {
    theMenu.innerText = "\u2666 Close \u2666";

    appearance.style.top = "45px";
    appearance.style.color = "black";
    appearance.style.textShadow = "1px 1px 1px var(--glow-outline-color), -1px -1px 1px var(--glow-outline-color), -1px 1px 1px var(--glow-outline-color),  1px -1px 1px var(--glow-outline-color), 0px 0px 8px var(--my-glow-color), 0px 0px 11px var(--my-glow-color), 0px 0px 14px var(--my-glow-color), 0px 0px 17px var(--my-glow-color), 0px 0px 20px var(--my-glow-color), 0px 0px 23px var(--my-glow-color), 0px 0px 26px var(--my-glow-color)";

    BtnBuilder.style.top = "70px";
    BtnBuilder.style.color = "black";
    BtnBuilder.style.textShadow = "1px 1px 1px var(--glow-outline-color), -1px -1px 1px var(--glow-outline-color), -1px 1px 1px var(--glow-outline-color),  1px -1px 1px var(--glow-outline-color), 0px 0px 8px var(--my-glow-color), 0px 0px 11px var(--my-glow-color), 0px 0px 14px var(--my-glow-color), 0px 0px 17px var(--my-glow-color), 0px 0px 20px var(--my-glow-color), 0px 0px 23px var(--my-glow-color), 0px 0px 26px var(--my-glow-color)";
    
    buttonMaker.style.top = "95px";
    buttonMaker.style.color = "black";
    buttonMaker.style.textShadow = "1px 1px 1px var(--glow-outline-color), -1px -1px 1px var(--glow-outline-color), -1px 1px 1px var(--glow-outline-color),  1px -1px 1px var(--glow-outline-color), 0px 0px 8px var(--my-glow-color), 0px 0px 11px var(--my-glow-color), 0px 0px 14px var(--my-glow-color), 0px 0px 17px var(--my-glow-color), 0px 0px 20px var(--my-glow-color), 0px 0px 23px var(--my-glow-color), 0px 0px 26px var(--my-glow-color)";

    tutorialSel.style.top = "120px";
    tutorialSel.style.color = "black";
    tutorialSel.style.textShadow = "1px 1px 1px var(--glow-outline-color), -1px -1px 1px var(--glow-outline-color), -1px 1px 1px var(--glow-outline-color),  1px -1px 1px var(--glow-outline-color), 0px 0px 8px var(--my-glow-color), 0px 0px 11px var(--my-glow-color), 0px 0px 14px var(--my-glow-color), 0px 0px 17px var(--my-glow-color), 0px 0px 20px var(--my-glow-color), 0px 0px 23px var(--my-glow-color), 0px 0px 26px var(--my-glow-color)";

    menuOpen = true;
  } else {

    BtnBuilder.style.top = "20px";
    BtnBuilder.style.color = "var(--my-background-color)";
    BtnBuilder.style.textShadow = "none";

    appearance.style.top = "20px";    
    appearance.style.color = "var(--my-background-color)";
    appearance.style.textShadow = "none";

    buttonMaker.style.top = "20px";
    buttonMaker.style.color = "var(--my-background-color)";
    buttonMaker.style.textShadow = "none";

    tutorialSel.style.top = "20px";
    tutorialSel.style.color = "var(--my-background-color)";
    tutorialSel.style.textShadow = "none";

    theMenu.innerText = "\u2666 Settings \u2666";
    menuOpen = false;
  }
}

function statNOTE() {
  var statNote = document.getElementById("statNote");
  var isOpen = checkOpen();
  if (statNote.style.display == "inline-block" || isOpen) {
    statNote.style.display = "none";
    return;
  }
  statNote.style.display = "inline-block";
}


function cancelStat() {
  var statNote = document.getElementById("statNote");
  statNote.style.display = "none";
}

function submitStat() {
  var statNote = document.getElementById("statNote");
  var q1 = document.getElementsByName("stat1a");
  var stat1explain = document.getElementById("stat1explain").value;
  var q2 = document.getElementsByName("stat2a");
  var stat3explain = document.getElementById("stat3explain").value;
  var q4 = document.getElementsByName("stat4a");
  var stat4explain = document.getElementById("stat4explain").value;
  var ansTotal = 0;
  var checkedArr = [];
  for (i = 0; i < q1.length; i++) {
    if (q1[i].checked) {
      var ans1 = q1[i].value;
      ansTotal = ansTotal + 1;
      checkedArr.push(q1[i]);
    }
  }
  if (ans1 == "YES" && stat1explain == null) {
    alert("Please describe what is needed and by whom.");
    return;
  }
  for (i = 0; i < q2.length; i++) {
    if (q2[i].checked) {
      var ans2 = q2[i].value;
      ansTotal = ansTotal + 1;
      checkedArr.push(q2[i]);
    }
  }
  if (stat3explain == null) {
    alert("Please describe the next steps in the claim.");
    return;
  } else {
    ansTotal = ansTotal + 1;
  }
  for (i = 0; i < q4.length; i++) {
    if (q4[i].checked) {
      var ans4 = q4[i].value;
      ansTotal = ansTotal + 1;
      checkedArr.push(q4[i]);
    }
  }
  if (ans4 == "YES" && stat1explain == null) {
    alert("Please describe what conversations need to happen.");
    return;
  }
  if(ansTotal < 4) {
    alert("Please answer all questions");
  } else {
    for (i = 0; i < checkedArr.length; i++) {
      checkedArr[i].checked = false;
    }
    document.getElementById("textarea5").value = "Is anything required from the repair facility or contract holder?   " + ans1 + "\r";  
    if (ans1 == "YES"){
      document.getElementById("textarea5").value += stat1explain + "\r\r";
    } else {
      document.getElementById("textarea5").value +=  "\r";
    }
    document.getElementById("textarea5").value += "If so, are they aware of the requirements and how to accomplish?   " + ans2 + "\r\r";
    document.getElementById("textarea5").value += "What are the next steps in the claim process?   \r";
    document.getElementById("textarea5").value += stat3explain + "\r\r";
    document.getElementById("textarea5").value += "Are there any special conversations that need to\rhappen with either the repair facility or contract holder?   " + ans4 + "\r";
    if (ans4 == "YES"){
      document.getElementById("textarea5").value += stat4explain;
    } 
    let textarea = document.getElementById("textarea5");
    textarea.select();
    document.execCommand("copy");
    document.getElementById("stat4explain").value = "";
    document.getElementById("stat3explain").value = "";
    document.getElementById("stat1explain").value = "";
    statNote.style.display = "none";
  }
}



function showAuth() {
  var newAuthstyle = document.getElementById("newAuthstyle");
  var isOpen = checkOpen();
  if (newAuthstyle.style.display == "inline-block" || isOpen) {
    newAuthstyle.style.display = "none";
    return;
  }
  newAuthstyle.style.display = "inline-block";
}

function moveAuth() {
  document.getElementById("authParts").style.display = "none";
  document.getElementById("authRequests").style.display = "inline-block";
}

function moveAuth2() {
  document.getElementById("authRequests").style.display = "none";
  document.getElementById("authOopcs").style.display = "inline-block";
}


function cancelNewauth() {
  document.getElementById("authParts").style.display = "inline-block";
  document.getElementById("authRequests").style.display = "none";
  document.getElementById("authOopcs").style.display = "none";
  document.getElementById("newAuthstyle").style.display = "none";
  document.getElementById("OOPoptDiv").style.display = "none";
  var boxes = document.querySelectorAll(".FNA");
  for (i = 0; i < boxes.length; i++) {
    boxes[i].checked = false;
  }
}

function newAuth() {
  document.getElementById("authParts").style.display = "inline-block";
  document.getElementById("authRequests").style.display = "none";
  document.getElementById("authOopcs").style.display = "none";
  document.getElementById("newAuthstyle").style.display = "none";
  var stage = document.getElementById("textarea2");

  var textarea = document.getElementById('textarea1');
  var lines = textarea.value.split('\n');
  var lineIndex = 1;
  var start = lines.slice(0, lineIndex).reduce((acc, curr) => acc + curr.length + 1, 0);
  var end = start + lines[lineIndex].length;
  textarea.focus();
  textarea.setSelectionRange(start, end);
  var tempStr = window.getSelection();
  document.getElementById("textarea4").value = tempStr;
  var fullString = document.getElementById("textarea4").value;
  var contactString = fullString.slice(11);
  var bananaMilkshake = contactString.trim();

  stage.value = newauthLine1 + "\r" + newauthLine2 + "\r" + newauthLine3 + "\r" + newauthLine4  + "\r" + newauthLine5 + bananaMilkshake + "\r";

  partsOptions(stage);
}

function partsOptions(stage) {
  var partOpts = document.getElementsByName("authparts");
  for (i = 0; i < partOpts.length; i++) {
    if (partOpts[i].checked == true) {
      stage.value += partOpts[i].value + "\r";
    }
  }
  requestOptions(stage);
}
    

function requestOptions(stage) {
  if (document.getElementById("auth9").checked == true) {
    stage.value += inspAuth1 + "\r" + recordsAuth1 + "\r";
    issuesOptions(stage);
    return;
  }
  if (document.getElementById("auth6").checked == true) {
    stage.value += inspAuth2 + "\r";
  }
  if (document.getElementById("auth7").checked == true) {
    stage.value += inspAuth3 + "\r";
  }
  if (document.getElementById("auth8").checked == true) {
    stage.value += recordsAuth2 + "\r";
  }
  stage.value += requestedAuth1 + "\r";
  issuesOptions(stage);
}


function issuesOptions(stage) {
  if (document.getElementById("auth13").checked == true) {
    stage.value += oopcsAuth4 + "\r" + oopcsAuth4a + "\r";
    finishAuth(stage);
    return;
  }
  if (document.getElementById("auth11").checked == true) {
    stage.value += oopcsAuth3 + "\r" + oopcsAuth3a + "\r";
    finishAuth(stage);
    return;
  }
  if (document.getElementById("auth10").checked == true || document.getElementById("auth12").checked == true) {
    var oopcCausep = document.getElementById("auth14");
    var oopcCausel = document.getElementById("auth15");
    var oopcCauseb = document.getElementById("auth16");
    var oopcAmt1 = document.getElementById("auth17").value;
    document.getElementById("auth17").value = "";
    var num = parseInt(oopcAmt1);
    var oopcAmt2 = num.toFixed(2);
    var oopcAmt = oopcAmt2.toString();
    var oopcCausedBy;
    if (oopcCauseb.checked == true) { oopcCausedBy = "parts and labor."; } 
    if (oopcCausel.checked == true) { oopcCausedBy = "labor."; } 
    if (oopcCausep.checked == true) { oopcCausedBy = "parts."; } 
    if (oopcAmt == null) { alert("Please enter the amount of OOPC"); return; }

    stage.value += oopcsAuth1 + oopcAmt;
    if (document.getElementById("auth12").checked == true) {
      stage.value += oopcsAuth2b + "\r" + oopcsAuth2c + oopcCausedBy + "\r" + oopcsAuth3a + "\r";
    } else {
      stage.value += oopcsAuth2a + "\r" + oopcsAuth2c + oopcCausedBy + "\r" + oopcsAuth3a + "\r";
    }
    finishAuth(stage);
    return;
  }
}
  
function showOOPopt() {
  document.getElementById("OOPoptDiv").style.display = "inline-block";
}

function finishAuth(stage) {
  var noncovComps = document.getElementById("auth18");
  if (noncovComps.checked) { stage.value += noncovAuth1; }
  stage.select();
  document.execCommand("copy");
  var boxes = document.querySelectorAll(".FNA");
  for (i = 0; i < boxes.length; i++) {
    boxes[i].checked = false;
  }
}


function EVACRECH(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  if (Check == null) {
    document.getElementById("textarea2").value += EvacRechrge;
    document.getElementById("EDITarea").value = EvacRechrge;
  } else {
    document.getElementById("textarea2").value += Check;
    document.getElementById("EDITarea").value = Check;
}
}


function ALIGNMENT(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  if (Check == null) {
   document.getElementById("textarea2").value += Alignment;
   document.getElementById("EDITarea").value = Alignment;
  } else {
    document.getElementById("textarea2").value += Check;
    document.getElementById("EDITarea").value = Check;
  }
}


function DIAG(boxNum){
if (boxNum === "9") {
document.getElementById("textarea2").value += "Diag \r";
document.getElementById("textarea2").value += Labor;
}
else
{
let partName = document.getElementById("part" + boxNum).value;
document.getElementById("textarea2").value += "Diag for ";
document.getElementById("textarea2").value += partName + "\r";
document.getElementById("textarea2").value += Labor;
}
}


function LABOR(boxNum){
if (boxNum === "9") {
document.getElementById("textarea2").value += "R/R \r";
document.getElementById("textarea2").value += Labor;
}
else
{
let partName = document.getElementById("part" + boxNum).value;
document.getElementById("textarea2").value += "R/R ";
document.getElementById("textarea2").value += partName + "\r";
document.getElementById("textarea2").value += Labor;
}
}


function BULK(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  if (Check == null) {
    document.getElementById("textarea2").value += BulkFluid;
    document.getElementById("EDITarea").value = BulkFluid;
  } else {
    document.getElementById("textarea2").value += Check;
    document.getElementById("EDITarea").value = Check;
  }
}




function OEMOVER(){
var textarea = document.getElementById("textarea2").value;
textarea = textarea.slice(0,-1);
document.getElementById("textarea2").value = textarea;
document.getElementById("textarea2").value += OemOver250;
}


function NEWAM(boxNum) {
if (boxNum === "9") {
document.getElementById("textarea2").value += NewAMpart;
}
else
{
let partName = document.getElementById("part" + boxNum).value;
document.getElementById("textarea2").value += "Part:   ";
document.getElementById("textarea2").value += partName + "\r";
document.getElementById("textarea2").value += NewAMpart;
}
}


function NEWOEM(boxNum) {
  if (boxNum === "9") {
    document.getElementById("textarea2").value += NewOEMpart;
  } else {
    let partName = document.getElementById("part" + boxNum).value;
    document.getElementById("textarea2").value += "Part:   ";
    document.getElementById("textarea2").value += partName + "\r";
    document.getElementById("textarea2").value += NewOEMpart;
  }
}

function CALLNOANS(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  if (Check == null) {
    document.getElementById("textarea5").value = NoAnswerOOPC;
    document.getElementById("EDITarea").value = NoAnswerOOPC;
  } else {
    document.getElementById("textarea5").value = Check;
    document.getElementById("EDITarea").value = Check;
  }
    let textarea = document.getElementById("textarea5");
    textarea.select();
    document.execCommand("copy");
}

function AUTHOOPC(btnID){
var Check = localStorage.getItem(btnID + "EDIT");
  if (Check == null) {
    document.getElementById("textarea5").value = ChAuthedOOPC;
    document.getElementById("EDITarea").value = ChAuthedOOPC;
  } else {
    document.getElementById("textarea5").value = Check;
    document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("textarea5");
  textarea.select();
  document.execCommand("copy");
}

function STMTTEMP(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  if (Check == null) {
    document.getElementById("textarea5").value = StatementTemplate;
    document.getElementById("EDITarea").value = StatementTemplate;
  } else {
    document.getElementById("textarea5").value = Check;
    document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("textarea5");
  textarea.select();
  document.execCommand("copy");
  ShowTemps();
  imBusy = "false";
}

function REVIEW(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  if (Check == null) {
    document.getElementById("textarea5").value = ReviewNote;
    document.getElementById("EDITarea").value = ReviewNote;
  } else {
    document.getElementById("textarea5").value = Check;
    document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("textarea5");
  textarea.select();
  document.execCommand("copy");
  ShowTemps();
  imBusy = "false";
}



function RECREQ(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  if (Check == null) {
    document.getElementById("textarea5").value = RecordsRequested;
    document.getElementById("EDITarea").value = RecordsRequested;
  } else {
    document.getElementById("textarea5").value = Check;
    document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("textarea5");
  textarea.select();
  document.execCommand("copy");
}



function NOANSREC(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  if (Check == null) {
    document.getElementById("textarea5").value = NoAnsRecdsRqst;
    document.getElementById("EDITarea").value = NoAnsRecdsRqst;
  } else {
    document.getElementById("textarea5").value = Check;
    document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("textarea5");
  textarea.select();
  document.execCommand("copy");
}


function INSPTEMP(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  if (Check == null) {
    document.getElementById("textarea5").value = InspectionTemplate;
   document.getElementById("EDITarea").value = InspectionTemplate;
  } else {
    document.getElementById("textarea5").value = Check;
   document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("textarea5");
  textarea.select();
  document.execCommand("copy");
  ShowTemps();
  imBusy = "false";
}

function PTXFER(){
  var showTemp = document.getElementById("transferTemplate");
  showTemp.style.display = "inline-block";
}

function submitTEMP() {
  var q1 = document.getElementsByName("ans1");
  var q2 = document.getElementsByName("ans2");
  var q3 = document.getElementsByName("ans3");
  var q4 = document.getElementsByName("ans4");
  var q5 = document.getElementsByName("ans5");
  var q6 = document.getElementsByName("ans6");
  var q7 = document.getElementsByName("ans7");
  var q8 = document.getElementsByName("ans8");
  var q9 = document.getElementsByName("ans9");
  var q10 = document.getElementsByName("ans10");
  var q11 = document.getElementsByName("ans11");
  var ans1;
  var ans7;
  var ansTotal = 0;
  var checkedArr = [];
  for (i = 0; i < q1.length; i++) {
    if (q1[i].checked) {
      ans1 = q1[i].value;
      ansTotal = ansTotal + 1;
      checkedArr.push(q1[i]);
    }
  }
  for (i = 0; i < q2.length; i++) {
    if (q2[i].checked) {
      var ans2 = q2[i].value;
      ansTotal = ansTotal + 1;
      checkedArr.push(q2[i]);
    }
  }
  for (i = 0; i < q3.length; i++) {
    if (q3[i].checked) {
      var ans3 = q3[i].value;
      ansTotal = ansTotal + 1;
      checkedArr.push(q3[i]);
    }
  }
  for (i = 0; i < q4.length; i++) {
    if (q4[i].checked) {
      var ans4 = q4[i].value;
      ansTotal = ansTotal + 1;
      checkedArr.push(q4[i]);
    }
  }
  for (i = 0; i < q5.length; i++) {
    if (q5[i].checked) {
      var ans5 = q5[i].value;
      ansTotal = ansTotal + 1;
      checkedArr.push(q5[i]);
    }
  }
  for (i = 0; i < q6.length; i++) {
    if (q6[i].checked) {
      var ans6 = q6[i].value;
      ansTotal = ansTotal + 1;
      checkedArr.push(q6[i]);
    }
  }
  for (i = 0; i < q7.length; i++) {
    if (q7[i].checked) {
      ans7 = q7[i].value;
      ansTotal = ansTotal + 1;
      checkedArr.push(q7[i]);
    }
  }
  for (i = 0; i < q8.length; i++) {
    if (q8[i].checked) {
      var ans8 = q8[i].value;
      ansTotal = ansTotal + 1;
      checkedArr.push(q8[i]);
    }
  }
  for (i = 0; i < q9.length; i++) {
    if (q9[i].checked) {
      var ans9 = q9[i].value;
      ansTotal = ansTotal + 1;
      checkedArr.push(q9[i]);
    }
  }
  for (i = 0; i < q10.length; i++) {
    if (q10[i].checked) {
      var ans10 = q10[i].value;
      ansTotal = ansTotal + 1;
      checkedArr.push(q10[i]);
    }
  }
  for (i = 0; i < q11.length; i++) {
    if (q11[i].checked) {
      var ans11 = q11[i].value;
      ansTotal = ansTotal + 1;
      checkedArr.push(q11[i]);
    }
  }
  if (ans1 == "NO"){
    alert("The repair facility must be willing and able or the CH vehicle MUST be moved");
    return;
  }
  if (ans7 == "NO"){
    alert("Please verify their information in order to proceed.");
    return;
  }
  var q11ansExplain = document.getElementById("q11ansExplain").value;
  var q3ansExplain = document.getElementById("q3ansExplain").value;
  var contact1 = "Contact Name: " + document.getElementById("contact1").value;
  var contact2 = "Contact Info: " + document.getElementById("contact2").value;
  if(ansTotal < 11) {
    alert("Please answer all questions");
  } else {
    for (i = 0; i < checkedArr.length; i++) {
      checkedArr[i].checked = false;
    }
    document.getElementById("textarea5").value = PtTransfer1 + ans1 + "\r\r" +  PtTransfer2 + ans2 + "\r\r" + PtTransfer3 + ans3 + "\r";  
    if (ans3 != "YES"){
      document.getElementById("textarea5").value += q3ansExplain + "\r\r";
    } else {
      document.getElementById("textarea5").value +=  "\r";
    }
    document.getElementById("textarea5").value += PtTransfer4 + ans4 + "\r\r" +  PtTransfer5 + ans5 + "\r\r" +  PtTransfer6 + ans6 + "\r\r" +  PtTransfer7 + ans7 + "\r\r" +  PtTransfer8 + ans8 + "\r" + contact1 + "\r" + contact2 + "\r\r" + PtTransfer9 + ans9 + "\r\r" + PtTransfer10 + ans10 + "\r\r" + PtTransfer11 + ans11 + "\r";
    if (ans11 == "YES"){
      document.getElementById("textarea5").value += q11ansExplain;
    }
    let textarea = document.getElementById("textarea5");
    textarea.select();
    document.execCommand("copy");
    document.getElementById("q3ansExplain").value = "";
    document.getElementById("q11ansExplain").value = "";
    document.getElementById("contact1").value = "";
    document.getElementById("contact2").value = "";
    var showTemp = document.getElementById("transferTemplate");
    showTemp.style.display = "none";
  }
}

function cancelPT() {
  var showTemp = document.getElementById("transferTemplate");
  showTemp.style.display = "none";
}

function PICREQ(btnID){
  var Check = localStorage.getItem(btnID + "EDIT");
  if (Check == null) {
    document.getElementById("textarea5").value = PicturesReuest;
   document.getElementById("EDITarea").value = PicturesReuest;
  } else {
    document.getElementById("textarea5").value = Check;
   document.getElementById("EDITarea").value = Check;
  }
  let textarea = document.getElementById("textarea5");
  textarea.select();
  document.execCommand("copy");
}


function FLUIDLEAK() {
  var fluids = document.getElementById("div6");
  if (fluids.style.display != "none") {
        fluids.style.display = "none";
    document.getElementById("fluid").textContent = "$";
  } else {
fluids.style.display = "inline-block";
    document.getElementById("fluid").textContent = "X";
  }
}

function CopyIntakeForm(index){
  var textarea = document.getElementById('textarea1');
  var lines = textarea.value.split('\n');
  var lineIndex = parseInt(index);
  var start = lines.slice(0, lineIndex).reduce((acc, curr) => acc + curr.length + 1, 0);
  var end = start + lines[lineIndex].length;
  textarea.focus();
  textarea.setSelectionRange(start, end);
  var tempStr = window.getSelection();
  document.getElementById("textarea4").value = tempStr;
  var fullString = document.getElementById("textarea4").value;
  var contactString = fullString.slice(9);
  document.getElementById("textarea4").value = contactString.trim();
  let extra = document.getElementById("textarea4");
  extra.select();
  document.execCommand("copy");
}

function CopyForm(index){
  let textarea = document.getElementById(index);
  textarea.select();
  document.execCommand("copy");
}

function FormToTA(){
  var partname = document.getElementById('partname1').value;
  var partnum = document.getElementById('partnum').value;
  var rfprice = document.getElementById('rfprice').value;
  var msrp = document.getElementById('msrp').value;
  if (msrp) {
    var overCheck = parseInt(msrp);
    document.getElementById("textarea2").value += "Part: ";
    document.getElementById("textarea2").value += partname + "\r";
    document.getElementById("textarea2").value += "Verified OEM PN: ";
    document.getElementById("textarea2").value += partnum + "\r";
    document.getElementById("textarea2").value += "Verified MSRP: ";
    document.getElementById("textarea2").value += msrp + "\r";
    document.getElementById("textarea2").value += "RF Price: ";
    document.getElementById("textarea2").value += rfprice + "\r";
    if (overCheck > 250) {
      document.getElementById("textarea2").value += OemOver250;
      } else {
        document.getElementById("textarea2").value += "\r";
      }
  } else {
    document.getElementById("textarea2").value += "Part: ";
    document.getElementById("textarea2").value += partname + "\r";
    document.getElementById("textarea2").value += "RF AM PN:  ";
    document.getElementById("textarea2").value += partnum + "\r";
    document.getElementById("textarea2").value += "RF Price: ";
    document.getElementById("textarea2").value += rfprice + "\r";
    document.getElementById("textarea2").value += OemOver250;
  }
}

function AnotherOne() {
  if (newpartcount < 8){
    document.getElementById("partname" + newpartcount).style.display = "inline-block";
    newpartcount++;
    console.log(newpartcount);
  }
}

function NextPart() {  
  document.getElementById('partnum').value = "";
  document.getElementById('rfprice').value = "";
  document.getElementById('msrp').value = "";
  partMover = newpartcount - 1;
  for (var i = 1; i < partMover; i++) {
    var d = i + 1;
    var upper = document.getElementById("partname" + d);
    var lower = document.getElementById("partname" + i);
    lower.value = upper.value;
  }
  if (newpartcount > 2) {
    newpartcount = newpartcount - 1;
    document.getElementById("partname" + partMover).value = "";
    document.getElementById("partname" + partMover).style.display = "none";
  }
}

function SENDLABOR1(){
  var partname = document.getElementById('partname1').value;
  document.getElementById("textarea2").value += "R/R ";
  document.getElementById("textarea2").value += partname + "\r";
  document.getElementById("textarea2").value += Labor;
}

function SENDDIAG1(){
  var partname = document.getElementById('partname1').value;
  document.getElementById("textarea2").value += "Diag on ";
  document.getElementById("textarea2").value += partname + "\r";
  document.getElementById("textarea2").value += Labor;
}

function SWIFTY(){
  document.getElementById("partname1").value = "";
  document.getElementById("partnum").value = "";
  document.getElementById("rfprice").value = "";
}

function COPYNOTE(){
  document.getElementById("textarea3").value = document.getElementById("textarea2").value;
  let textarea = document.getElementById("textarea2");
  textarea.select();
  document.execCommand("copy");
}

const downloadFile = () => {
  const date = new Date();
  var stamp = date.toDateString();
  const link = document.createElement("a");
  const content = document.getElementById("textareadata").value;
  const file = new Blob([content], { type: 'text/plain' });
  link.href = URL.createObjectURL(file);
  link.download = stamp + ".txt";
  link.click();
  URL.revokeObjectURL(link.href);
};

function toggleConductor(boxId) {
  var checkBox = document.getElementById(boxId);
  if (boxId == "s9") {
    for (i = 0; i < showList.length; i++) {
      var affectedElem = showList[i];
      var affectedId = showList[i].id;
      if (checkBox.checked == true) {
        affectedElem.style.display = "inline-block";
        localStorage.setItem(affectedId + "SHOW", "inline-block");
        localStorage.setItem("allBTN", "inline-block");
      } else {
        affectedElem.style.display = "none";
        localStorage.setItem(affectedId + "SHOW", "none");
        localStorage.setItem("allBTN", "none");
      }
    }
  return;
  } else {
    var displayElemNode = document.getElementsByClassName(boxId + "dispStat"); 
    var affectedElem = displayElemNode[0];
    var affectedId = displayElemNode[0].id; 
    if (checkBox.checked == true){
      affectedElem.style.display = "inline-block";
      localStorage.setItem(affectedId + "SHOW", "inline-block");
    } else {
      affectedElem.style.display = "none";
      localStorage.setItem(affectedId + "SHOW", "none");
    }
  }
}




var STCBCount = 0;
var PRINCount = 0;
var LINKCount = 0;
var ENDNCount = 0;
var SOLOCount = 0;
var buttonCount = 0;

window.onload = function PutItBack() { 
  var selected = "holder1";
  var selectedElem = document.getElementById(selected);
  var didItRun = localStorage.getItem("Im The Boss");
  if (didItRun == null) {
    localStorage.setItem("Im The Boss", "It's Been Done");
    localStorage.setItem(selected + "STCB", '0');
    localStorage.setItem(selected + "PRIN", '0');
    localStorage.setItem(selected + "LINK", '0');
    localStorage.setItem(selected + "ENDN", '0');
    localStorage.setItem(selected + "SOLO", '0');
    localStorage.setItem(selected + "Count", '0');
  }
  var STt = localStorage.getItem(selected + "STCB");
  var PRt = localStorage.getItem(selected + "PRIN");
  var LIt = localStorage.getItem(selected + "LINK");
  var ENt = localStorage.getItem(selected + "ENDN");
  var SOt = localStorage.getItem(selected + "SOLO");
  var but = localStorage.getItem(selected + "Count");
  STCBCount = parseInt(STt);
  PRINCount = parseInt(PRt);
  LINKCount = parseInt(LIt);
  ENDNCount = parseInt(ENt);
  SOLOCount = parseInt(SOt);
  buttonCount = parseInt(but);
  for (i = 0; i < buttonCount; i++) {
    var count = i.toString();
    var currID = "cust" + count;
    var newID = localStorage.getItem(currID);
    var currdivID = "custBtn" + count;
    var buttonX = document.getElementById(currID)
    buttonX.id = newID;
    idList.push(buttonX);
    contentList.push(buttonX);
    resizeList.push(buttonX);
    displayList.push(buttonX);
    buttonList.push(buttonX);
  }
  for (i = 0; i < 10; i++) {
    var count = i.toString();
    var curdivID = "custBtn" + count;
    var thsDisp = localStorage.getItem(curdivID + "SHOW");
    if (thsDisp == null) {
      localStorage.setItem(curdivID + "SHOW", "none");
    }
  }
  for (i = 0; i < idList.length; i++) {
    var selectedID = idList[i].id;
    var selectedElem = document.getElementById(selectedID);
    if (localStorage.getItem(selectedID + "Font") != null) {
      var fSize = localStorage.getItem(selectedID + "Font");
      selectedElem.style.fontSize = fSize;
    }
    if (localStorage.getItem(selectedID + "top") != null) {
      var top = localStorage.getItem(selectedID + "top");
      var left = localStorage.getItem(selectedID + "left");
      selectedElem.style.left = left;
      selectedElem.style.top = top;
    }
    if (localStorage.getItem(selectedID + "Width") != null) {
      var setWidth = localStorage.getItem(selectedID + "Width");
      var setHeight = localStorage.getItem(selectedID + "Height");
      selectedElem.style.width = setWidth;
      selectedElem.style.height = setHeight;
    }
    if (localStorage.getItem(selectedID + "Display") != null) {
      var setTEXT = localStorage.getItem(selectedID + "Display");
      selectedElem.innerHTML = setTEXT;
    }
  }
  for (i = 0; i < showList.length; i++) {
    var selectedID = showList[i].id;
    var selectedElem = document.getElementById(selectedID);
    var elemClass = selectedElem.className;
    var boxId = elemClass.substr(-10, 2);
    var checkBox = document.getElementById(boxId);
    var currDisp = selectedElem.style.display;
    var setDisp = localStorage.getItem(selectedID + "SHOW");
    if (setDisp == null || setDisp == "inline-block") { 
      checkBox.checked = true;
      selectedElem.style.display = "inline-block";
    } else {
      checkBox.checked = false;
      selectedElem.style.display = "none";
    }
  }
  var mainDisp = localStorage.getItem("allBTN");
  var checkbox = document.getElementById("s9")
  if (mainDisp == "inline-block" || mainDisp == null) {
    checkbox.checked = true;
  } else {
    checkbox.checked = false;
  }
  localStorage.setItem("pageNum", "0");
  resetColors();

  const recordArr = [];
  localStorage.setItem("recordArr", JSON.stringify(recordArr));

  const objectArr = [];
  localStorage.setItem("objectArr", JSON.stringify(objectArr));

  localStorage.setItem("addLineCount", "0"); 
  localStorage.setItem("savedRecs", "0");
  localStorage.removeItem("serRcrdspot");
  localStorage.removeItem("incRcrdspot");
  localStorage.removeItem("rec0Rcrdspot");
  localStorage.removeItem("rec1Rcrdspot");
  localStorage.removeItem("rec2Rcrdspot");
  localStorage.removeItem("rec3Rcrdspot");
  localStorage.removeItem("rec4Rcrdspot");
  localStorage.removeItem("rec5Rcrdspot");
  localStorage.removeItem("InceptionMiles");
  localStorage.removeItem("InceptionDate");
  localStorage.removeItem("sermileage");
  localStorage.removeItem("serdate");
  localStorage.removeItem("rec0mileage");
  localStorage.removeItem("rec0date");



}


function resetColors() {

  var bgClr = localStorage.getItem("myBackgroundcolor");
  var acClr = localStorage.getItem("myAccentcolor");
  var shad1Clr = localStorage.getItem("shadow1color");
  var shad2Clr = localStorage.getItem("shadow2color");
  var userName = localStorage.getItem("userName");
  var glowClr = localStorage.getItem("myGlowcolor");
  var txtClr = localStorage.getItem("glowTxtcolor");
  var outlineClr = localStorage.getItem("outlineClr");
  var hoverClr = localStorage.getItem("hoverClr");
  var activeClr = localStorage.getItem("activeClr");

  var bgClrelem = document.getElementById("background-picker");
  var acClrelem = document.getElementById("accent-picker");
  var shad1elem = document.getElementById("shad1-picker");
  var shad2elem = document.getElementById("shad2-picker");
  var userNameelem = document.getElementById("userName");
  var glowClrelem = document.getElementById("nameGlow");
  var txtClrelem = document.getElementById("nameColor");
  var outlineClrelem = document.getElementById("outlineColor");

  if (bgClr != null) {
    document.documentElement.style.setProperty('--my-background-color', bgClr);
    bgClrelem.value = bgClr;
  }
  if (acClr != null) {
    document.documentElement.style.setProperty('--my-accent-color', acClr);
    acClrelem.value = acClr;
    document.documentElement.style.setProperty('--hover-color', hoverClr);
    document.documentElement.style.setProperty('--active-color', activeClr);
  }
  if (shad1Clr != null) {
    document.documentElement.style.setProperty('--my-shadow-color1', shad1Clr);
    shad1elem.value = shad1Clr;
  }
  if (shad2Clr != null) {
    document.documentElement.style.setProperty('--my-shadow-color2', shad2Clr);
    shad2elem.value = shad2Clr;
  }
  if (userName != null) {
    var glowDiv = document.getElementById("glowDiv");
    glowDiv.innerHTML = userName;
    userNameelem.value = userName;
  }
  if (glowClr != null) {
    document.documentElement.style.setProperty('--my-glow-color', glowClr);
    glowClrelem.value = glowClr;
  }
  if (txtClr != null) {
    document.documentElement.style.setProperty('--glow-txt-color', txtClr);
    txtClrelem.value = txtClr;
  }
  if (outlineClr != null) {
    document.documentElement.style.setProperty('--glow-outline-color', outlineClr);
    outlineClrelem.value = outlineClr;
  }


  
}

function personalize() {
  MENU();
  var appearDiv = document.getElementById("appearDiv");
  appearDiv.style.display = "inline-block";
}


function exitColor() {
  var appearDiv = document.getElementById("appearDiv");
  appearDiv.style.display = "none";
  location.reload();
}


function saveColors() {

  var bgClrelem = document.getElementById("background-picker");
  var acClrelem = document.getElementById("accent-picker");
  var shad1elem = document.getElementById("shad1-picker");
  var shad2elem = document.getElementById("shad2-picker");
  var glowClrelem = document.getElementById("nameGlow");
  var txtClrelem = document.getElementById("nameColor");
  var userNameelem = document.getElementById("userName");
  var outlineClrelem = document.getElementById("outlineColor");
  var glowDiv = document.getElementById("glowDiv");

  var bgClr = bgClrelem.value;
  var acClr = acClrelem.value;
  var shad1Clr = shad1elem.value;
  var shad2Clr = shad2elem.value;
  var glowClr = glowClrelem.value;
  var txtClr = txtClrelem.value;
  var userName = userNameelem.value;
  var outlineClr = outlineClrelem.value;
  var hoverClr = acClr + "32";
  var activeClr = acClr + "94";
  glowDiv.innerHTML = userName;


  document.documentElement.style.setProperty('--my-background-color', bgClr);
  document.documentElement.style.setProperty('--my-accent-color', acClr);
  document.documentElement.style.setProperty('--my-shadow-color1', shad1Clr);
  document.documentElement.style.setProperty('--my-shadow-color2', shad2Clr);
  document.documentElement.style.setProperty('--my-glow-color', glowClr);
  document.documentElement.style.setProperty('--glow-txt-color', txtClr);
  document.documentElement.style.setProperty('--glow-outline-color', outlineClr);
  document.documentElement.style.setProperty('--hover-color', hoverClr);
  document.documentElement.style.setProperty('--active-color', activeClr);

  localStorage.setItem("myBackgroundcolor", bgClr);
  localStorage.setItem("myAccentcolor", acClr);
  localStorage.setItem("shadow1color", shad1Clr);
  localStorage.setItem("shadow2color", shad2Clr);
  localStorage.setItem("myGlowcolor", glowClr);
  localStorage.setItem("glowTxtcolor", txtClr);
  localStorage.setItem("userName", userName);
  localStorage.setItem("outlineClr", outlineClr);
  localStorage.setItem("hoverClr", hoverClr);
  localStorage.setItem("activeClr", activeClr);
  exitColor();
}



function setColor(colorSet) {
  var tempClr1; //background
  var tempClr2; //accent
  var tempClr3; //shad1
  var tempClr4; //shad2
  var tempClr5; //glow color
  var tempClr6; //text color
  var tempClr7; //outline

  switch(colorSet) {
  case "default":
    tempClr1 = "#4f4f4f";
    tempClr2 = "#707070";
    tempClr3 = "#cecece";
    tempClr4 = "#141414";
    tempClr5 = "#ffffff";
    tempClr6 = "#000000";
    tempClr7 = "#ffffff";
    break;
  case "blue":
    tempClr1 = "#324350";
    tempClr2 = "#7C878F";
    tempClr3 = "#D4D7DA";
    tempClr4 = "#1A2229";
    tempClr5 = "#ffffff";
    tempClr6 = "#503f32";
    tempClr7 = "#ffffff";
    break;
  case "red":
    tempClr1 = "#622823";
    tempClr2 = "#81524E";
    tempClr3 = "#CFBEBD";
    tempClr4 = "#130807";
    tempClr5 = "#ffffff";
    tempClr6 = "#236228";
    tempClr7 = "#ffffff";
    break;
  case "green":
    tempClr1 = "#2f9844";
    tempClr2 = "#58ac69";
    tempClr3 = "#c0e0c6";
    tempClr4 = "#040f06";
    tempClr5 = "#ffffff";
    tempClr6 = "#98422f";
    tempClr7 = "#ffffff";
    break;
  case "4":
    tempClr1 = "#4f4f4f";
    tempClr2 = "#707070";
    tempClr3 = "#ffffff";
    tempClr4 = "#000000";
    tempClr5 = "#cecece";
    tempClr6 = "#141414";
    tempClr7 = "#ffffff";
    break;
  }

  var bgClrelem = document.getElementById("background-picker");
  bgClrelem.value = tempClr1;

  var acClrelem = document.getElementById("accent-picker");
  acClrelem.value = tempClr2;

  var shad1elem = document.getElementById("shad1-picker");
  shad1elem.value = tempClr3;

  var shad2elem = document.getElementById("shad2-picker");
  shad2elem.value = tempClr4;

  var glowClrelem = document.getElementById("nameGlow");
  glowClrelem.value = tempClr5;

  var txtClrelem = document.getElementById("nameColor");
  txtClrelem.value = tempClr6;

  var outlineClrelem = document.getElementById("outlineColor");
  outlineClrelem.value = tempClr7;

  var hoverClr = tempClr2 + "32";
  var activeClr = tempClr2 + "94";


  document.documentElement.style.setProperty('--my-background-color', tempClr1);
  document.documentElement.style.setProperty('--my-accent-color', tempClr2);
  document.documentElement.style.setProperty('--my-shadow-color1', tempClr3);
  document.documentElement.style.setProperty('--my-shadow-color2', tempClr4);
  document.documentElement.style.setProperty('--my-glow-color', tempClr5);
  document.documentElement.style.setProperty('--glow-txt-color', tempClr6);
  document.documentElement.style.setProperty('--glow-outline-color', tempClr7);
  document.documentElement.style.setProperty('--hover-color', hoverClr);
  document.documentElement.style.setProperty('--active-color', activeClr);

}








const menu = document.getElementById("context-menu");
var menuState = 0;
var colorState = "0";
var contextMenuActive = "block";

function customMenu(sentID, event) {
  event.preventDefault();
  for (i = 0; i < menuList.length; i++) {
    if (menuList[i].style.display != "none") {
      console.log("issue");
      return;
    }
  }
  toggleMenuOn();
  positionMenu(event);
  localStorage.setItem("lastCalled", sentID);
}

function toggleMenuOn() {
  if (menuState !== 1) {
    menuState = 1;
    menu.classList.add("visible");
  }
}

function toggleMenuOff() {
  if (menuState !== 0) {
    menuState = 0;
    menu.classList.remove("visible");
  }
}


function getPosition(e) {
  var posx = 0;
  var posy = 0;
  if (!e) var e = window.event;
  if (e.pageX || e.pageY) {
    posx = e.pageX;
    posy = e.pageY;
  } else if (e.clientX || e.clientY) {
    posx =
      e.clientX +
      document.body.scrollLeft +
      document.documentElement.scrollLeft;
    posy =
      e.clientY + document.body.scrollTop + document.documentElement.scrollTop;
  }
  return {
    x: posx,
    y: posy
  };
}


function positionMenu(e) {
  let clickCoords = getPosition(e);
  let clickCoordsX = clickCoords.x;
  let clickCoordsY = clickCoords.y;

  let menuWidth = menu.offsetWidth + 4;
  let menuHeight = menu.offsetHeight + 4;

  let windowWidth = window.innerWidth;
  let windowHeight = window.innerHeight;

  if (windowWidth - clickCoordsX < menuWidth) {
    menu.style.left = windowWidth - menuWidth + "px";
  } else {
    menu.style.left = clickCoordsX + "px";
  }
  if (windowHeight - clickCoordsY < menuHeight) {
    menu.style.top = windowHeight - menuHeight + "px";
  } else {
    menu.style.top = clickCoordsY + "px";
  }
}

document.addEventListener("click", (e) => {
  var button = e.which || e.button;
  if (button === 1) {
    toggleMenuOff();
  }
});

window.onkeyup = function (e) {
  if (e.keyCode === 27) {
    toggleMenuOff();
  }
};


function editDisplay() {
  var lastID = localStorage.getItem("lastCalled");
  var selectedButton = document.getElementById(lastID);
  if (!selectedButton.classList.contains('D')) {
    alert("That function is not available on this button");
    localStorage.setItem("lastCalled", "noError");
    return;
  }
  localStorage.setItem("verifyCalled", lastID);
  var disEdit = document.getElementById("disEdit");
  disEdit.style.display = "inline-block";
  var mimic = document.getElementById("mimic");
  var lHeight = window.getComputedStyle(selectedButton).lineHeight;
  mimic.style.lineHeight = lHeight
  if (displayList.includes(selectedButton)) {
    var currentDisplay = localStorage.getItem(lastID + "Display");
    if (currentDisplay == null) {
      mimic.innerHTML = document.getElementById(lastID).innerHTML;
    } else {
      mimic.innerHTML = currentDisplay;
    }
  }
  var fontSize = window.getComputedStyle(selectedButton).fontSize;

  document.getElementById("fontSizer").innerText = "Font Size: " + fontSize;
  selectedButton.style.fontSize = fontSize;
  mimic.style.fontSize = fontSize;
  var cHeight = window.getComputedStyle(selectedButton).height;
  var cWidth = window.getComputedStyle(selectedButton).width;
  mimic.style.width = cWidth;
  mimic.style.height = cHeight;
  divWidth = disEdit.offsetWidth;
  disWidth = parseInt(divWidth);
  cisWidth = parseInt(cWidth);
  mimic.style.left = (((disWidth - cisWidth) / 2) - 20) + "px";
}

function submitDisp(x) {
  var mimic = document.getElementById("mimic");
  var verifiedID = localStorage.getItem("verifyCalled");
  if (x == 'd') {
    mimic.innerHTML = "";
    localStorage.removeItem(verifiedID + "Display");
    localStorage.removeItem(verifiedID + "Font");
    var disEdit = document.getElementById("disEdit");
    disEdit.style.display = "none";
    location.reload();
    return;
  }
  if (x == 'b') {
    document.execCommand('bold',false,null);
  }
  if (x == 'c') {
    if (colorState == "0") {
      document.execCommand('foreColor', false, '#FF0000');
      colorState = "1";
    } else {
      document.execCommand('foreColor', false, '#000000');
      colorState = "0";
    } 
  }

  var newDisplay = mimic.innerHTML;
  var selectedButton = document.getElementById(verifiedID);
  selectedButton.innerHTML = newDisplay;
  localStorage.setItem(verifiedID + "Display", newDisplay);

  if (x == "s") {
    var disEdit = document.getElementById("disEdit");
    disEdit.style.display = "none";
    mimic.innerHTML = "";
  localStorage.setItem("verifyCalled", "noError");
  localStorage.setItem("lastCalled", "noError");
  }
}



function editContent() {
  var lastID = localStorage.getItem("lastCalled");
  var selectedButton = document.getElementById(lastID);
console.log(lastID);
  if (!selectedButton.classList.contains('C')) {
    alert("That function is not available on this button");
    localStorage.setItem("lastCalled", "noError");
    return;
  }
  localStorage.setItem("verifyCalled", lastID);
  var contEdit = document.getElementById("contEdit");
  contEdit.style.display = "inline-block";

  var currentNote = localStorage.getItem(lastID + "EDIT");
  console.log(currentNote);
  if (currentNote != null) {
    document.getElementById("ContentEditor").innerText = currentNote;
  } else {
    selectedButton.onclick();
    var text = document.getElementById("EDITarea").value;
    document.getElementById("ContentEditor").innerText = text;
  }
}


function cancelCont() {
  var contEdit = document.getElementById("contEdit");
  document.getElementById("ContentEditor").innerText = "";
  contEdit.style.display = "none"
}

function submitCont() {
  var contEdit = document.getElementById("contEdit");
  var verifiedID = localStorage.getItem("verifyCalled");
  var newContent = document.getElementById("ContentEditor").innerText;
  localStorage.setItem(verifiedID + "EDIT", newContent);
  contEdit.style.display = "none";
  localStorage.setItem("verifyCalled", "noError");
  localStorage.setItem("lastCalled", "noError");
}

function defaultCont() {
  var contEdit = document.getElementById("contEdit");
  var verifiedID = localStorage.getItem("verifyCalled");
  document.getElementById("ContentEditor").innerText = "";
  localStorage.removeItem(verifiedID + "EDIT");
  contEdit.style.display = "none";
  location.reload();
}

function fontChange(x) {
  var bigorSmoll = parseInt(x);
  var verifiedID = localStorage.getItem("verifyCalled");
  var selectedButton = document.getElementById(verifiedID);
  var mimic = document.getElementById("mimic");
  var fontS = window.getComputedStyle(selectedButton).fontSize;
  var fontInt = parseInt(fontS);
  fontInt = fontInt + bigorSmoll;
  var tempFont = fontInt.toString(); 
  var newFont = tempFont + "px";
  selectedButton.style.fontSize = newFont;
  mimic.style.fontSize = newFont;
  selectedButton.innerHTML = mimic.innerHTML;
  document.getElementById("fontSizer").innerText = "Font Size: " + newFont;
  localStorage.setItem(verifiedID + "Font", newFont);
}

function editSize() {
  var lastID = localStorage.getItem("lastCalled");
  var selectedButton = document.getElementById(lastID);

  if (!selectedButton.classList.contains('R')) {
    alert("That function is not available on this button");
    localStorage.setItem("lastCalled", "noError");
    return;
  }

  localStorage.setItem("verifyCalled", lastID);
  var sizeEdit = document.getElementById("sizeEdit");
  sizeEdit.style.display = "inline-block";
  var sizeShow = document.getElementById("sizeShow");
  var lHeight = window.getComputedStyle(selectedButton).lineHeight;
  sizeShow.style.lineHeight = lHeight
  var fontSize = window.getComputedStyle(selectedButton).fontSize;
  sizeShow.style.fontSize = fontSize;
  var currentDisplay = localStorage.getItem(lastID + "Display");
    if (currentDisplay == null) {
      sizeShow.innerHTML = document.getElementById(lastID).innerHTML;
    } else {
      sizeShow.innerHTML = currentDisplay;
    }

  var curWidth = selectedButton.offsetWidth;
  var curHeight = selectedButton.offsetHeight;

  sizeShow.style.height = curHeight + "px";
  sizeShow.style.width = curWidth + "px";


  var showLeft = (475 - curWidth) / 2;
  var showTop = (270 - curHeight) / 2;
  sizeShow.style.top = showTop + "px";
  sizeShow.style.left = showLeft + "px";
}

function heightChange(x) {
  var bigorSmoll = parseInt(x);
  var verifiedID = localStorage.getItem("verifyCalled");
  var selectedButton = document.getElementById(verifiedID);
  var sizeShow = document.getElementById("sizeShow");
  var curHeight = selectedButton.offsetHeight;
  var newHeight = curHeight + bigorSmoll; 
  selectedButton.style.height = newHeight + "px";
  sizeShow.style.height = newHeight + "px";
  localStorage.setItem(verifiedID + "Height", newHeight + "px");

  var showTop = (270 - newHeight) / 2;
  sizeShow.style.top = showTop + "px";
}

function widthChange(x) {
  var bigorSmoll = parseInt(x);
  var verifiedID = localStorage.getItem("verifyCalled");
  var selectedButton = document.getElementById(verifiedID);
  var sizeShow = document.getElementById("sizeShow");
  var curWidth = selectedButton.offsetWidth;
  newWidth = curWidth + bigorSmoll; 
  selectedButton.style.width = newWidth + "px";
  sizeShow.style.width = newWidth + "px";
  localStorage.setItem(verifiedID + "Width", newWidth + "px");

  var showLeft = (475 - newWidth) / 2;
  sizeShow.style.left = showLeft + "px";
}

function sizeSubmit(x) {
  var sizeEdit = document.getElementById("sizeEdit");
  var verifiedID = localStorage.getItem("verifyCalled");
  localStorage.setItem("verifyCalled", "noError");
  localStorage.setItem("lastCalled", "noError");
  sizeEdit.style.display = "none";

  if (x == "d") {
    localStorage.removeItem(verifiedID + "Width");
    localStorage.removeItem(verifiedID + "Height");
    location.reload();
  }
}

function editPos() {
  var lastID = localStorage.getItem("lastCalled");
  var selectedButton = document.getElementById(lastID);

  if (!selectedButton.classList.contains('P')) {
    alert("That function is not available on this button");
    localStorage.setItem("lastCalled", "noError");
    return;
  }

  localStorage.setItem("verifyCalled", lastID);
  var cacheIndex = window.getComputedStyle(selectedButton).getPropertyValue("z-index");
  localStorage.setItem(lastID + "zIndex", cacheIndex);
  selectedButton.style.zIndex = "99";
  selectedButton.classList.add("shiny");
  var upBTN = document.getElementById("upBTN");
  var downBTN = document.getElementById("downBTN");
  var leftBTN = document.getElementById("leftBTN");
  var rightBTN = document.getElementById("rightBTN");
  var posSubmit = document.getElementById("posSubmit");
  var posEdit = document.getElementById("posEdit");

  upBTN.style.display = "inline-block";
  downBTN.style.display = "inline-block";
  leftBTN.style.display = "inline-block";
  rightBTN.style.display = "inline-block";
  posSubmit.style.display = "inline-block";
  posEdit.style.display = "inline-block";
}


function lMove() {
  var verifiedID = localStorage.getItem("verifyCalled");
  var selectedButton = document.getElementById(verifiedID);

  var currentLeft = selectedButton.offsetLeft;
  var leftInt = parseInt(currentLeft);
  var newLeft = leftInt + 5;
  selectedButton.style.left = newLeft + "px";
  localStorage.setItem(verifiedID + "left", newLeft + "px");
}

function lrMove(x) {
  var verifiedID = localStorage.getItem("verifyCalled");
  var selectedButton = document.getElementById(verifiedID);

  var currentLeft = selectedButton.offsetLeft;
  var leftInt = parseInt(currentLeft);
  var direction = parseInt(x);
  var newLeft = leftInt + direction;
  selectedButton.style.left = newLeft + "px";
  localStorage.setItem(verifiedID + "left", newLeft + "px");
}

function udMove(x) {
  var verifiedID = localStorage.getItem("verifyCalled");
  var selectedButton = document.getElementById(verifiedID);
  var currentTop = selectedButton.offsetTop;
  var topInt = parseInt(currentTop);
  var direction = parseInt(x);
  var newTop = topInt + direction;
  selectedButton.style.top = newTop + "px";
  localStorage.setItem(verifiedID + "top", newTop + "px");
}

function dMove() {
  var verifiedID = localStorage.getItem("verifyCalled");
  var selectedButton = document.getElementById(verifiedID);
  var currentTop = selectedButton.offsetTop;
  var topInt = parseInt(currentTop);
  var newTop = topInt + 5;
  selectedButton.style.top = newTop + "px";
  localStorage.setItem(verifiedID + "top", newTop + "px");
}


function posSubmit(x) {
  var upBTN = document.getElementById("upBTN");
  var downBTN = document.getElementById("downBTN");
  var leftBTN = document.getElementById("leftBTN");
  var rightBTN = document.getElementById("rightBTN");
  var posSubmit = document.getElementById("posSubmit");
  var posEdit = document.getElementById("posEdit");
  var verifiedID = localStorage.getItem("verifyCalled");
  var selectedButton = document.getElementById(verifiedID);
  var returnZindex = localStorage.getItem(verifiedID + "zIndex");
  selectedButton.style.zIndex = returnZindex;
  selectedButton.classList.remove("shiny");

  upBTN.style.display = "none";
  downBTN.style.display = "none";
  leftBTN.style.display = "none";
  rightBTN.style.display = "none";
  posEdit.style.display = "none";

  localStorage.setItem("verifyCalled", "noError");
  localStorage.setItem("lastCalled", "noError");
  if (x == "d") {
    localStorage.removeItem(verifiedID + "top");
    localStorage.removeItem(verifiedID + "left");
    location.reload();
  }
}

function BuilderShow() {
  var toggleMaster = document.getElementById("toggleMaster");
  var BtnBuilder = document.getElementById("BtnBuilder");
  if (toggleMaster.style.display == "none") {
    toggleMaster.style.display = "inline-block";
    BtnBuilder.innerText = "\u2666 Hide Toggle \u2666";
  } else {
    toggleMaster.style.display = "none";
    BtnBuilder.innerText = "\u2666 Toggle On/Off \u2666";
    if (menuOpen){
      MENU();
    }
  }
}

function infoCancel() {
  var infoDiv1 = document.getElementById("infoDiv1");
  infoDiv1.style.display = "none";
}

function infoCancel2() {
  var infoDiv2 = document.getElementById("infoDiv2");
  infoDiv2.style.display = "none";
}

function showCustom() {
  var infoDiv1 = document.getElementById("infoDiv1");
  infoDiv1.style.display = "inline-block";
}

function infoDone() {
  infoDiv1.style.display = "none";
  infoDiv2.style.display = "inline-block";
}

function infoDone1() {
  var typeFinder = document.getElementsByName('buttonType');
  var btnType;
  for(i = 0; i < typeFinder.length; i++){
    if(typeFinder[i].checked){
      btnType = typeFinder[i].value;
      localStorage.setItem("type", btnType);
    }
  }
  infoDiv2.style.display = "none";
  infoDiv3.style.display = "inline-block";
}

var customIDs = [];
function infoDone2() {
  infoDiv2.style.display = "none";
  var typeFinder = document.getElementsByName('buttonType');
  var btnType;

  for(i = 0; i < typeFinder.length; i++){
    if(typeFinder[i].checked){
      btnType = typeFinder[i].value;
      localStorage.setItem("type", btnType);
    }
  }

  var selectedID = "holder1";
  var baseKey;
  var STt = localStorage.getItem(selectedID + "STCB");
  var PRt = localStorage.getItem(selectedID + "PRIN");
  var LIt = localStorage.getItem(selectedID + "LINK");
  var ENt = localStorage.getItem(selectedID + "ENDN");
  var SOt = localStorage.getItem(selectedID + "SOLO");
  var but = localStorage.getItem(selectedID + "Count");
  var STCBCount = parseInt(STt);
  var PRINCount = parseInt(PRt);
  var LINKCount = parseInt(LIt);
  var ENDNCount = parseInt(ENt);
  var SOLOCount = parseInt(SOt);
  var buttonCount = parseInt(but);

  var currID = "cust" + but;
  var newButton = document.getElementById(currID);

  var BtnDisplay = document.getElementById("BtnDisplay").value;
  var BtnContent = document.getElementById("BtnContent").value;

  if (BtnDisplay == null || BtnContent == null) {
  alert("You must pick a button display and content value");
  return;
  }
  switch(btnType) {
  case "STCB":
    baseKey = "STCB" + STCBCount;
    STCBCount = STCBCount + 1;
    localStorage.setItem(selectedID + "STCB", STCBCount);
    break;
  case "PRIN":
    baseKey = "PRIN" + PRINCount;
    PRINCount = PRINCount + 1;
    localStorage.setItem(selectedID + "PRIN", PRINCount);
    break;
  case "LINK":
    baseKey = "LINK" + LINKCount;
    LINKCount = LINKCount + 1;
    localStorage.setItem(selectedID + "LINK", LINKCount);
    break;
  case "ENDN":
    baseKey = "ENDN" + ENDNCount;
    ENDNCount = ENDNCount + 1;
    localStorage.setItem(selectedID + "ENDN", ENDNCount);
    break;
  case "SOLO":
    baseKey = "SOLO" + SOLOCount;
    SOLOCount = SOLOCount + 1;
    localStorage.setItem(selectedID + "SOLO", SOLOCount);
    break;
  default:
    alert("You must pick a button type");
    return;
  }




  newButton.innerHTML = BtnDisplay;
  newButton.id = baseKey;

  var currdivID = "custBtn" + but;
  var newButtonDiv = document.getElementById(currdivID);
  newButtonDiv.style.display = "inline-block";
 
  var curWidth = newButton.offsetWidth;
  var curHeight = newButton.offsetHeight;


  newButtonDiv.style.left = "20px";
  newButtonDiv.style.top = "200px";



  localStorage.setItem(currdivID + "SHOW", "inline-block");
  localStorage.setItem(currID, baseKey);
  localStorage.setItem(baseKey + "Display", BtnDisplay);
  localStorage.setItem(baseKey + "EDIT", BtnContent);
  localStorage.setItem(baseKey + "Height", curHeight);
  localStorage.setItem(baseKey + "Width", curWidth);
  localStorage.setItem(currdivID + "top", "200px");
  localStorage.setItem(currdivID + "left", "20px");

  idList.push(newButton);
  idList.push(newButtonDiv);
  contentList.push(newButton);
  moveList.push(newButtonDiv);
  resizeList.push(newButton);
  displayList.push(newButton);
  showList.push(newButtonDiv);
  buttonList.push(newButton);
  divList.push(newButtonDiv);

  buttonCount = buttonCount + 1;
  localStorage.setItem(selectedID + "Count", buttonCount);
  SALTANDPEPA('0');
}

function conjunctionJunction(buttonID) {
  var funct = buttonID.slice(0, 4);
  var note = localStorage.getItem(buttonID + "EDIT");

  if (note == null) {
    alert("No note currently defined");
    return false;
  }
  document.getElementById("EDITarea").value = note;
  switch(funct) {
  case "STCB":
    document.getElementById("textarea5").value = note;
    let textareaFive = document.getElementById("textarea5");
    textareaFive.select();
    document.execCommand("copy");
    break;
  case "PRIN":
    document.getElementById("textarea2").value = note;
    document.getElementById("textarea2").value =  "\r";
    break;
  case "LINK":
    document.getElementById("textarea2").value += note;
    document.getElementById("textarea2").value += "\r";
    break;
  case "ENDN":
    document.getElementById("textarea2").value += note;
    let textarea = document.getElementById("textarea2");
    textarea.select();
    document.execCommand("copy");
    break;
  case "SOLO":
    document.getElementById("textarea2").value += note;
    document.getElementById("textarea2").value += "\r\r";
    break;
  }
}




function tutorial() {
  if (menuOpen) { MENU(); }
  localStorage.setItem("pageNum", "0");
  document.getElementById("myNav0").style.width = "100%";
}

function swapClassNav1a(page,mod) {
  var id = "nav1in" + page;
  var elem = document.getElementById(id);
  elem.style.display = "inherit";
  var pagenum = parseInt(page) + 1;
  localStorage.setItem("pageNum", pagenum);
}

function nextNav(inner) {
  var pageStr = localStorage.getItem("pageNum");
  if (inner == "myNav1") {
    switch(pageStr) {
  case "0":
    document.getElementById("myNav0").style.display = "none";
    document.getElementById("myNav1").style.width = "100%";
    saveIndex("areaOne");
    document.getElementById("textarea1").value = "CONTACT:  The RF service advisor name.\rPAYMENT:  Where RF payment will be sent.\rZIPCODE:  The RF zip code.\rMILEAGE:  Current CH mileage\rDISTANCE:  CH miles in coverage.\rTIME:  CH days in coverage";
    swapClassNav1a(pageStr);
    break;   
  case "1":
    saveIndex("ITSBRITTNEY");
    swapClassNav1a(pageStr);
    break;
  case "2":
    AnotherOne();
    AnotherOne();
    AnotherOne();
    document.getElementById("partname3").value = "Blower Motor";
    document.getElementById("partname2").value = "Starter";
    document.getElementById("partname1").value = "Window Motor";
    swapClassNav1a(pageStr);
    break;
  case "3":
    saveIndex("textarea2");
    document.getElementById("rfprice").value = "199.99";
    document.getElementById("partnum").value = "123456";
    FormToTA();
    swapClassNav1a(pageStr);
    break;
  case "4":
    document.getElementById("msrp").value = "199.99";
    FormToTA();
    swapClassNav1a(pageStr);
    break;
  case "5":
    document.getElementById("textarea2").value = "";
    document.getElementById("msrp").value = "279.99";
   FormToTA();
    swapClassNav1a(pageStr);
    break;
  case "6":
    SENDLABOR1();
    SENDDIAG1();
    swapClassNav1a(pageStr);
    break;
  case "7":
    NextPart();
    swapClassNav1a(pageStr);
    break;
  case "8":
    saveIndex("hlc");
    recallIndex("ITSBRITTNEY");
    document.getElementById("nav1in0").style.display = "inherit";
    document.getElementById("nav1in0").style.visibility = "hidden";
    document.getElementById("nav1in1").style.display = "none";
    document.getElementById("nav1in2").style.display = "none";
    document.getElementById("nav1in3").style.display = "none";
    document.getElementById("nav1in4").style.display = "none";
    document.getElementById("nav1in5").style.display = "none";
    document.getElementById("nav1in6").style.display = "none";
    document.getElementById("nav1in7").style.display = "none";
    swapClassNav1a(pageStr);
    break; 
  case "9":
    RESET();
    document.getElementById("div6").style.zIndex = 10000;
    swapClassNav1a(pageStr);
    break;
  case "10":
    recallIndex("areaOne");
    recallIndex("hlc");
    recallIndex("textarea2");
    document.getElementById("myNav0").style.display = "initial";
    document.getElementById("myNav0").style.width = "100%";
    document.getElementById("myNav1").style.display = "none";
    localStorage.setItem("pageNum", "0");
    }
  }

  if (inner == "myNav2") {
    switch(pageStr) {
  case "0":
    myNav0 = document.getElementById("myNav0");
    myNav0.style.display = "none";
    document.getElementById("myNav2").style.width = "100%";
    saveIndex("newAuthstarter");
    swapClassNav2(pageStr);
    break;
  case "1":
    recallIndex("newAuthstarter");
    showAuth();
    document.getElementById("auth4").checked = true;
    saveIndex("newAuthstyle");
    swapClassNav2(pageStr);
    break;
  case "2":
    moveAuth();
    document.getElementById("auth7").checked = true;
    swapClassNav2(pageStr);
    break;
  case "3":
    moveAuth2();
    document.getElementById("auth10").checked = true;
    document.getElementById("auth18").checked = true;
    swapClassNav2(pageStr);
    break;
  case "4":
    showOOPopt();
    document.getElementById("auth14").checked = true;
    document.getElementById("auth17").value = "159.34";
    swapClassNav2(pageStr);
    break;
  case "5":
    document.getElementById("textarea1").value = "CONTACT:\rPAYMENT: some_Guy@shop-email.com\rZIPCODE:\rMILEAGE:\rDISTANCE:\rTIME:";
    newAuth();
    recallIndex("newAuthstyle");
    saveIndex("textarea2");
    swapClassNav2(pageStr);
    document.getElementById("textarea1").value = "CONTACT:\rPAYMENT:\rZIPCODE:\rMILEAGE:\rDISTANCE:\rTIME:";
    break;
  case "6":
    recallIndex("textarea2");
    RESET();
    saveIndex("statusNote");
    swapClassNav2(pageStr);
    break;
  case "7":
    recallIndex("statusNote");
    document.getElementById("statNote").style.display = "inline-block";
    saveIndex("statNote");
    document.getElementById("yes1a").checked = true;
    document.getElementById("stat1explain").value = "12 months srs from CH";
    document.getElementById("yes2a").checked = true;
    document.getElementById("stat3explain").value = "Review srs to determine prex. Make claim decision";
    document.getElementById("no4a").checked = true;
    swapClassNav2(pageStr);
    break;
  case "8":
    cancelStat();
    recallIndex("statNote");
    document.getElementById("statNote").style.display = "none";
    saveIndex("textarea2");
    saveIndex("picR");
    saveIndex("recR");
    saveIndex("noansR");
    saveIndex("R7");
    saveIndex("R6");
    swapClassNav2(pageStr);
    break;
  case "9":
    saveIndex("T0");
    ShowTemps();
    saveIndex("TPDiv");
    recallIndex("picR");
    recallIndex("recR");
    recallIndex("noansR");
    recallIndex("R7");
    recallIndex("R6");
    recallIndex("textarea2");
    swapClassNav2(pageStr);
    break;
  case "10":
    recallIndex("T0");
    recallIndex("TPDiv");
    document.getElementById("TPDiv").style.display = "none";
    document.getElementById("transferTemplate").style.display = "inline-block";
    saveIndex("transferTemplate");
    document.getElementById("textarea2").style.zIndex = 16;
    document.getElementById("yes1").checked = true;
    document.getElementById("no2").checked = true;
    document.getElementById("yes3").checked = true;
    document.getElementById("no4").checked = true;
    document.getElementById("yes5").checked = true;
    document.getElementById("yes6").checked = true;
    document.getElementById("yes7").checked = true;
    document.getElementById("email").checked = true;
    document.getElementById("contact1").value = "Guy Shopworker";
    document.getElementById("contact2").value = "some_Guy@shop-email.com";
    document.getElementById("yes9").checked = true;
    document.getElementById("yes10").checked = true;
    document.getElementById("no11").checked = true;
    swapClassNav2(pageStr);
    break;
  case "11":
    RESET();
    saveIndex("transferTemplate");
    document.getElementById("textarea2").style.zIndex = 5;
    saveIndex("snipbox");
    swapClassNav2(pageStr);
    break;
  case "12":
    recallIndex("transferTemplate");
    RESET();
    saveIndex("TGAFBTN");
    document.getElementById("TGAFOBTN").style.display = "inline-block";
    document.getElementById("TGAFSBTN").style.display = "inline-block";
    document.getElementById("TGAFBBTN").style.display = "inline-block";
    swapClassNav2(pageStr);
    break;
  case "13":
    document.getElementById("nav2in12").innerText += " OOPC and shipping";
    document.getElementById("TGAFOBTN").style.display = "none";
    document.getElementById("TGAFSBTN").style.display = "none";
    document.getElementById("TGAFBBTN").style.display = "none";
    document.getElementById("TGAFOSABTN").style.display = "inline-block";
    document.getElementById("TGAFOSDSBTN").style.display = "inline-block";
    document.getElementById("TGAFOSDBBTN").style.display = "inline-block";
    document.getElementById("TGAFOSCBTN").style.display = "inline-block";
    document.getElementById("NALVM").style.display = "inline-block";
    document.getElementById("NANVM").style.display = "inline-block";
    document.getElementById("NANVM").style.left = "400px";
    document.getElementById("NALVM").style.left = "400px";
    swapClassNav13(pageStr);
    break;
  case "14":
    document.getElementById("nav2in12").innerText += " and the CH approved both,\rthe note is built and copied for you.";
    document.getElementById("TGAFOSABTN").style.display = "none";
    document.getElementById("TGAFOSDSBTN").style.display = "none";
    document.getElementById("TGAFOSDBBTN").style.display = "none";
    document.getElementById("TGAFOSCBTN").style.display = "none";
    document.getElementById("NALVM").style.display = "none";
    document.getElementById("NANVM").style.display = "none";
    document.getElementById("Snippings").style.display = "inline-block";
    document.getElementById("Snippings").value = "Called CH to get auth for OOPC and shipping.\rCH approved OOPC and shipping.\rWill call RF to inform and order parts.\r";
    let textarea = document.getElementById("Snippings");
    textarea.select();
    document.execCommand("copy");
    swapClassNav13(pageStr);
    break;
  case "15":
    document.getElementById("NANVM").style.left = "270px";
    document.getElementById("NALVM").style.left = "270px";
    document.getElementById("TGAFOSABTN").style.display = "none";
    document.getElementById("TGAFOSDSBTN").style.display = "none";
    document.getElementById("TGAFOSDBBTN").style.display = "none";
    document.getElementById("TGAFOSCBTN").style.display = "none";
    document.getElementById("NALVM").style.display = "none";
    document.getElementById("NANVM").style.display = "none";
    swapClassNav2(pageStr);
    break;
  case "16":
    RESETNOTE();
    console.log("here");
    recallIndex("snipbox");
    recallIndex("TGAFBTN");
    document.getElementById("myNav2").style.display = "none";
    document.getElementById("myNav0").style.display = "inherit";
    document.getElementById("myNav0").style.width = "100%";
    localStorage.setItem("pageNum", "0");
    break;
    }
  }
  if (inner == "myNav3") {
    switch(pageStr) {
  case "0":
    document.getElementById("myNav0").style.display = "none";
    document.getElementById("myNav3").style.width = "100%";
    swapClassNav3(pageStr);
    break;
  case "1":
    localStorage.setItem("lastCalled", "picR");
    editDisplay();
    saveIndex("disEdit");
    swapClassNav3(pageStr);
    break;
  case "2":
    recallIndex("disEdit");
    document.getElementById("disEdit").style.display = "none";
    localStorage.setItem("lastCalled", "picR");
    editContent();
    saveIndex("contEdit");
    swapClassNav3(pageStr);
    break;
  case "3":
    cancelCont();
    recallIndex("contEdit");
    localStorage.setItem("lastCalled", "picR");
    editSize();
    saveIndex("sizeEdit");
    swapClassNav3(pageStr);
    break;  
  case "4":
    sizeSubmit();
    recallIndex("sizeEdit");
    localStorage.setItem("lastCalled", "picR");
    editPos();
    saveIndex("posEdit");
    swapClassNav3(pageStr);
    break;
  case "5":
    posSubmit('s');
    recallIndex("sizeEdit");
    showCustom();
    saveIndex("infoDiv1");
    swapClassNav3(pageStr);
    break;
  case "6":
    swapClassNav3(pageStr);
    break;
  case "7":
    infoDone();
    saveIndex("infoDiv2");
    swapClassNav3(pageStr);
    break;
  case "8":
    infoCancel2();
    recallIndex("infoDiv1");
    recallIndex("infoDiv2");
    BuilderShow();
    saveIndex("toggleMaster");
    swapClassNav3(pageStr);
    break;
  case "9":
    BuilderShow();
    recallIndex("toggleMaster");
    swapClassNav3(pageStr);
    break;
  case "10":
    personalize();
    saveIndex("appearDiv")
    swapClassNav3(pageStr);
    break;
  case "11":
    recallIndex("appearDiv")
    exitColor();
    document.getElementById("myNav0").style.display = "inherit";
    document.getElementById("myNav1").style.display = "0%";
    document.getElementById("myNav2").style.display = "0%";
    document.getElementById("myNav3").style.width = "0%";
    localStorage.setItem("pageNum", "0");
    break;
    }
  }
}

function swapClassNav3(page) {
  if (page != "0") {
    var prevPage = parseInt(page) - 1;
    var previd = "nav3in" + prevPage;
    var prevelem = document.getElementById(previd);
    prevelem.style.display = "none";
  }
  var id = "nav3in" + page;
  var elem = document.getElementById(id);
  elem.style.display = "inherit";
  if (page == "7") {
    document.getElementById("nav3in7a").style.display = "inherit";
  }
  var pagenum = parseInt(page) + 1;
  localStorage.setItem("pageNum", pagenum);
}

function swapClassNav13(page) {
  var pagenum = parseInt(page) + 1;
  localStorage.setItem("pageNum", pagenum);
}

function swapClassNav2(page) {
  if (page == "15") {
  document.getElementById("nav2in12").style.display = "none";
  document.getElementById("nav2in15").style.display = "inherit";
  var pagenum = parseInt(page) + 1;
  localStorage.setItem("pageNum", pagenum);
  return;
  }
  if (page != "0") {
    var prevPage = parseInt(page) - 1;
    var previd = "nav2in" + prevPage;
    var prevelem = document.getElementById(previd);
    prevelem.style.display = "none";
  }
  var id = "nav2in" + page;
  var elem = document.getElementById(id);
  elem.style.display = "inherit";
  var pagenum = parseInt(page) + 1;
  localStorage.setItem("pageNum", pagenum);
}

function saveIndex(elementID) {
  var element = document.getElementById(elementID);
  var x = window.getComputedStyle(element).zIndex;
  if (!Number.isInteger(x)) {
    x = 5;
  }
  localStorage.setItem(elementID + "saveIndex", x);
  element.style.zIndex = 110;
}

function recallIndex(elementID) {
  var element = document.getElementById(elementID);
  var previndexNum = localStorage.getItem(elementID + "saveIndex");
  element.style.zIndex = previndexNum;
}

function closeNav() {
location.reload();
}



function openInfo(evt, cityName) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
  
//  var date = new Date();
//  var day = date.getDate();
//  var month = date.getMonth() + 1;
//  var year = date.getFullYear();
//  if (month < 10) month = "0" + month;
//  if (day < 10) day = "0" + day;
//  var today = year + "-" + month + "-" + day;       
//  document.getElementById("serDate").value = today;
//  document.getElementById("incDate").value = today;
//  document.getElementById("rec0Date").value = today;

  document.getElementById("incDate").value = "2024-01-31";
  document.getElementById("serDate").value = "2024-03-01";
  document.getElementById("rec0Date").value = "2024-01-01";

  document.getElementById("incMile").value = "104000";
  document.getElementById("serMile").value = "110000";
  document.getElementById("rec0Mile").value = "100000";
}

function closeResource() {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById('trackerMsg').innerText = "";
  resetGuide();
  resrcCenter();
}

function resrcCenter() {
  var resrcDiv = document.getElementById("resrcDiv");
  var isOpen = checkOpen();
  if (resrcDiv.style.display == "none" && !isOpen) {
    resrcDiv.style.display = "inline-block";
    document.getElementById('trackerMsg').innerText = "";
    return;
  }
  resrcDiv.style.display = "none";
}

function addLine() {
  document.getElementById('trackerMsg').innerText = "";
  var addLineCount = localStorage.getItem("addLineCount");
  var lineNum = parseInt(addLineCount) + 1;
  if (lineNum < 6) {
    var nextId = "recTab" + lineNum.toString();
    document.getElementById(nextId).style.visibility = "visible";
    localStorage.setItem("addLineCount", lineNum);
  } else { return;}
}

function resetReport() {
  document.getElementById('trackerMsg').innerText = "";
  var addLineCount = localStorage.getItem("addLineCount");
  var LineCount = parseInt(addLineCount);
  var inputElems = document.querySelectorAll(".tracker");
  var elemArr = Array.from(inputElems);
  for (i = 0; i < elemArr.length; i++) {
    if(elemArr[i].value != null) {
      if(elemArr[i].checked) {
        elemArr[i].checked = false;
      } else {
        elemArr[i].value = "";
      }
    }
  }

  for (; LineCount > 0; LineCount--) {
    var rowId = "recTab" + LineCount;
    document.getElementById(rowId).style.visibility = "hidden";
  }
  localStorage.setItem("addLineCount", "0");
  localStorage.setItem("savedRecs", "0");
}

function convertToDate(str) {
  var dateArr = str.split("-");
  return new Date(dateArr[0], dateArr[1], dateArr[2]);
}

function dayCalc(inceptDate, recordDate) {
  var incDate = convertToDate(inceptDate);
  var recDate = convertToDate(recordDate);
  return Math.round((recDate.getTime() - incDate.getTime()) / 86400000);
}

function Record() {
  this.date;
  this.mileage = 0;
  this.notes = "";
  this.isInception = false;
  this.correction = false;
  this.daysfrom = 0;
  this.milesfrom = 0;
  this.discrepancy = false;
  this.waitperiod = false;
  this.isService = false;
  this.isPrior = false;
}

function saveRecord(elemId) {
  document.getElementById('trackerMsg').innerText = "";
  var record = new Record();
  var indexF = elemId.length - 1;
  var newelemId = elemId.slice(0, indexF);
  var checkMileage = document.getElementById(newelemId + "Mile").value;
  var checkDate = document.getElementById(newelemId + "Date").value;

  if (checkDate == null || checkMileage == null) {
    alert("The minimum requirements are DATE and MILEAGE");
    return;
  }

  record.date = document.getElementById(newelemId + "Date").value;
  record.mileage = document.getElementById(newelemId + "Mile").value;
  record.notes = document.getElementById(newelemId + "Note").value;

  if (document.getElementById(newelemId + "C").checked && newelemId != "ser") {
    localStorage.setItem("IDforCor", newelemId);
    localStorage.setItem(newelemId + "mileage", record.mileage);
    localStorage.setItem(newelemId + "date", record.date);
  }
  if (newelemId == "ser") {
    record.isService = true;
    localStorage.setItem("sermileage", record.mileage);
    localStorage.setItem("serdate", record.date);
  }

  if (newelemId == "inc") {
    record.isInception = true;
    record.correction = false;
    record.daysfrom = 0;
    record.milesfrom = 0;
    localStorage.setItem("InceptionMiles", record.mileage);
    localStorage.setItem("InceptionDate", record.date);
  }


  if (newelemId != "inc") {
    var inceptStr = localStorage.getItem("InceptionMiles");
    if (inceptStr == null) { 
      document.getElementById('trackerMsg').innerText += "Start with Inception Info.";
      return;
    }
    var inceptMiles = parseInt(inceptStr);
    var tempMil = record.mileage - inceptMiles;
    if (tempMil < 0) { tempMil = tempMil * -1; }
    record.milesfrom = tempMil;
    var inceptDate = localStorage.getItem("InceptionDate");
    tempdayfr = dayCalc(inceptDate, record.date);
    if (tempdayfr < 0) { tempdayfr = tempdayfr * -1; record.isPrior = true;}
    record.daysfrom = tempdayfr;
    if (record.isService) {
      if (record.daysfrom < 26) {
        record.waitperiod = true;
      }
      if (record.milesfrom < 250) {
        record.waitperiod = true;
      }
      if (record.daysfrom < 41 && record.milesfrom < 500) {
        record.waitperiod = true;
      } 
    }
  }
  var recordArr = [];
  recordArr = JSON.parse(localStorage.getItem("recordArr"));

  var objectArr = [];
  objectArr = JSON.parse(localStorage.getItem("objectArr"));

  var savedRecs = localStorage.getItem("savedRecs");
  var recIndex = 0;
  if (objectArr.length != null) {
    var recIndex = objectArr.length;
  }
  var recName = newelemId + "Rcrd";
  if (!recordArr.includes(recName)) {
    if (!objectArr.includes("empty")) {
      objectArr.push(record);
    } else {
      var indexA = objectArr.indexOf("empty");
      objectArr.splice(indexA, 0, record); 
      recIndex = indexA;
    } 
    recordArr.push(recName);
    localStorage.setItem(recName + "spot", recIndex);
    localStorage.setItem("objectArr", JSON.stringify(objectArr));
    localStorage.setItem("recordArr", JSON.stringify(recordArr));
    var newCount = parseInt(savedRecs) + 1;
    localStorage.setItem("savedRecs", newCount);
  } else { 
    document.getElementById('trackerMsg').innerText += "Delete record, then re-save."; 
  }
}

function delRecord(elemId) {
  document.getElementById('trackerMsg').innerText = "";
  var temp = elemId.length - 1;
  var newelemId = elemId.slice(0, temp);
  const recordArr = JSON.parse(localStorage.getItem("recordArr"));
  const objectArr = JSON.parse(localStorage.getItem("objectArr"));
  var recName = newelemId + "Rcrd";
  var objectIndex = localStorage.getItem(recName + "spot");

  if (recordArr.includes(recName)) { 
    if (recName = "incRcrd") { 
      localStorage.removeItem("InceptionMiles");
      localStorage.removeItem("InceptionDate");
    }
    objectArr.splice(objectIndex, 0, "empty");
    localStorage.setItem("objectArr", JSON.stringify(objectArr));
    var savedRecs = localStorage.getItem("savedRecs");
    var newCount = parseInt(savedRecs) - 1;
    localStorage.setItem("savedRecs", newCount);
    localStorage.removeItem(recName); 

    const index = recordArr.indexOf(recName);
    if (index > -1) { 
      recordArr.splice(index, 1); 
      localStorage.setItem("recordArr", JSON.stringify(recordArr));
    }
  }
}




//this is to compile, sort, 

function comsoCompan() {
  var savedRecs = localStorage.getItem("savedRecs");
  var recCount = parseInt(savedRecs);
  if (recCount < 3) {
    document.getElementById('trackerMsg').innerText += "Enter at least 3 records to generate a report.";
    return;
  }

  const objectArr = JSON.parse(localStorage.getItem("objectArr"));
  objectArr.sort(compare);

  var looped = objectArr.length - 1;
  for (i = 0; i < looped; i++) {
    var x = i + 1;
    var firDate = objectArr[i].date;
    var secDate = objectArr[x].date;
    if (isitOlder(firDate, secDate)) {
      objectArr[i].discrepancy = true;
      objectArr[x].discrepancy = true;
      console.log(objectArr[i].mileage);
    }
  }
  localStorage.setItem("objectArr", JSON.stringify(objectArr));
  displayRecs();
}

function isitOlder(isOlder, thanThis) {
  var isOlder1 = convertToDate(isOlder);
  var thanThis1 = convertToDate(thanThis);
  if (isOlder1.getTime() > thanThis1.getTime()) {
    return true;
  } else {
    return false;
  }
} 

function compare (rec1, rec2) {
  return rec1.mileage - rec2.mileage;
}

//this is to compare and analyze

function displayRecs() {

  const objectArr = JSON.parse(localStorage.getItem("objectArr"));
  
  const table = document.createElement('table');
  table.classList.add('TheOutputtable');
  const header = table.createTHead().insertRow();
  header.classList.add('headit');

  header.insertCell(0).innerText = "Date";
  header.insertCell(1).innerText = "Mileage";
  header.insertCell(2).innerText = "Miles";
  header.insertCell(3).innerText = "Days";
  header.insertCell(4).innerText = "M/D";
  header.insertCell(5).innerText = "WP";
  header.insertCell(6).innerText = "DIS";
  header.insertCell(7).innerText = "Notes";

  const body = document.createElement('tbody');
  table.appendChild(body);


  for (i = 0; i < objectArr.length; i++) {
    const row = body.insertRow();
    row.classList.add('rowit');

    var tempRec = objectArr[i];
    var dateStr = tempRec.date;
    var year = dateStr.substr(0,4);
    var month = dateStr.substr(5,2);
    var day = dateStr.substr(8,2);
    var milesper;
    var distance;
    var overTime;
    var outputDate = month + "-" + day + "-" + year;

    if (!tempRec.isInception) {
      distance = parseInt(tempRec.milesfrom);
      overTime = parseInt(tempRec.daysfrom);
      milesper = Math.round(distance / overTime);
    } else {
      milesper = 0;
    }
    row.insertCell(0).innerText = outputDate;
    row.insertCell(1).innerText = tempRec.mileage;
    row.insertCell(2).innerText = tempRec.milesfrom;
    row.insertCell(3).innerText = tempRec.daysfrom;
    row.insertCell(4).innerText = milesper;

    if (tempRec.waitperiod) {
      row.insertCell(5).innerText = "\u26D4";
    } else { 
      row.insertCell(5).innerText = "\u2714";
    }

    if (tempRec.discrepancy) {
      row.insertCell(6).innerText = "\u26D4";
    } else {
      row.insertCell(6).innerText = "\u2714";
    }
    row.insertCell(7).innerText = tempRec.notes;

    document.getElementById('outputDiv').appendChild(table);

  var hasMessage = false;
    if (tempRec.isService) {
      if (overTime < 90) {
        document.getElementById('msgDiv').innerText += "This vehicle has less than 90 days in coverage\r\r"; 
        document.getElementById('alertDiv').innerText += "\u2757 ALERT: EARLY IN COVERAGE \u2757\r";
        hasMessage = true;
      }
      if (distance < 700) {
        document.getElementById('msgDiv').innerText += "This vehicle is within 700 miles of the inception mileage\r\r"; 
        document.getElementById('alertDiv').innerText += "\u2757 ALERT: EARLY IN COVERAGE \u2757\r";
        hasMessage = true;
      }
    }
    if (tempRec.waitperiod) {
      document.getElementById('msgDiv').innerText += "The failure dated " + outputDate + " was on day " + overTime + " of coverage.\rThe vehicle travelled " + distance + " since inception before failure.\r\r";
      document.getElementById('alertDiv').innerText += "\u2757 ALERT: WAITING PERIOD \u2757\r";
        hasMessage = true;
    }
    if (tempRec.discrepancy) {
      document.getElementById('msgDiv').innerText += "Review The dates and mileages of the surrounding records for any discrepancies.\r\r";
      document.getElementById('alertDiv').innerText += "\u2757 ALERT: MILEAGE DISCREPANCY \u2757\r";
        hasMessage = true;
    }
    if (milesper > 200) {
      document.getElementById('msgDiv').innerText += "This vehicle has travelled " + milesper + " miles per day.\r"; 
      document.getElementById('alertDiv').innerText += "\u2757 ALERT: HMPD \u2757\r"; 
      hasMessage = true;
      if (overTime < 90) {
        document.getElementById('msgDiv').innerText += "Since they are on day " + overTime + " of coverage, please review the HMPD SOP.\r\r";         
      } else if (overTime > 89) {
        document.getElementById('msgDiv').innerText += "Since they are on day " + overTime + " of coverage, Continue the claim as normal.\r\r";
      }
    }
    document.getElementById('outputDiv').style.display = "inline-block";
    if (hasMessage) {
      document.getElementById('alertDiv').innerText += "\u2757 CLICK TO SHOW MESSAGES \u2757";
    }
  }
  var allCells = document.getElementsByTagName("td");
  for (i = 0; i < allCells.length; i++) {
    if (allCells[i].innerText == "\u2714") {
      allCells[i].style.color = "green";
    }
  }
 priorMileage();
}

function priorMileage() {
  const table = document.querySelector(".TheOutputtable");
  const objectArr = JSON.parse(localStorage.getItem("objectArr"));

  for (i = 0; i < objectArr.length; i++) {
    if(objectArr[i].isPrior) {
      var x = i + 1;
      table.rows[x].cells[2].style.color = "red";
      table.rows[x].cells[3].style.color = "red";
    }
  }
}


function showMsg() {
  document.getElementById('msgDiv').style.opacity = 1;
}


function closeOutput() {
  document.getElementById('msgDiv').innerText = "";
  document.getElementById('alertDiv').innerText = "";
  document.getElementById('msgDiv').style.opacity = 0;
  document.getElementById('outputDiv').style.display = "none";
}


function inceptEst() {
  document.getElementById('trackerMsg').innerText = "";
  var elemId = localStorage.getItem("IDforCor");

  var recMileage1 = localStorage.getItem(elemId + "mileage");
  var recDate = localStorage.getItem(elemId + "date");

  var serMileage1 = localStorage.getItem("sermileage");
  var serDate = localStorage.getItem("serdate");

  var incMileage1 = localStorage.getItem("InceptionMiles");
  var incDate = localStorage.getItem("InceptionDate");

  if (elemId == null || recMileage1 == null || recDate == null || serMileage1 == null || serDate == null || incMileage1 == null || incDate == null) {
    document.getElementById('trackerMsg').innerText = "Information is incomplete. Try Again";
    return;
  } 

  var recMileage = parseInt(recMileage1);
  var serMileage = parseInt(serMileage1);
  var incMileage = parseInt(incMileage1);
   

  var daysBtwnRecs = dayCalc(recDate, serDate);
  var daysfromInc = dayCalc(incDate, serDate);

  var milesBtwnRecs = serMileage - recMileage;
  
  var milesperday = milesBtwnRecs / daysBtwnRecs;

  var milesTravelled = daysfromInc * milesperday;
  var mileVariation = milesperday * .2;

  var minMilesTravelled = daysfromInc * (milesperday - mileVariation);
  var maxMilesTravelled = daysfromInc * (milesperday + mileVariation);

  var minMiles = recMileage + minMilesTravelled;
  var maxMiles = recMileage + maxMilesTravelled;

  var estimatedInception = serMileage - milesTravelled;
  console.log(milesperday,mileVariation,minMilesTravelled,maxMilesTravelled,estimatedInception);

  document.getElementById('trackerMsg').innerText = "The estimated inception mileage is " + estimatedInception;
  if (estimatedInception < minMiles || estimatedInception > maxMiles) {
    document.getElementById('trackerMsg').innerText += "\r\rThe reported inception mileage varies by\rmore than 20% of the estimated inception mileage";
  }
  document.getElementById('trackerMsg').innerText += "\r\rThis is NOT a substitute for a performing an inception mileage\rcalculation per SOP using the official method and documentation.";

}



function resetGuide() {
  const radioBtns = document.getElementsByClassName("authGuideradio");
  for (i = 0; i < radioBtns.length; i++) {
    radioBtns[i].checked = false;
    radioBtns[i].disabled = false;
  }
  document.getElementById('authGuide1').style.display = "inline-block";
  document.getElementById('authGuideAM').style.display = "none";
  document.getElementById('rfovrmsrp').style.display = "none";
  document.getElementById('oeunder').style.display = "none";
  document.getElementById('authGuideOE').style.display = "none";
  document.getElementById('paGuide').style.display = "none";
  document.getElementById('listUnder').style.display = "none";
  document.getElementById('rfovrlist').style.display = "none";
  document.getElementById('listOver').style.display = "none";
  document.getElementById('costund').style.display = "none";
  document.getElementById('rfovrcost').style.display = "none";
  document.getElementById('IHSourcing').style.display = "none";
}




function goGuide(option,name) {
  var usedBtn = document.getElementsByName(name);
  for (i = 0; i < usedBtn.length; i++) {
    usedBtn[i].disabled = true;
  }

  switch(option) {
  case "oeover":
  case "am":
    document.getElementById('authGuide1').style.display = "none";
    document.getElementById('authGuideAM').style.display = "inline-block";
    break;
  case "oe":
    document.getElementById('authGuideOE').style.display = "inline-block";
    break;
  case "oeunder":
    document.getElementById('oeunder').style.display = "inline-block";
    break;
  case "rfovrmsrp":
    document.getElementById('rfovrmsrp').style.display = "inline-block";
    break;
  case "noship3":
    const pElem43 = document.createElement("p");
    pElem43.classList.add("bodyTab2");
    const textNode43 = document.createTextNode("Auth MSRP. CH will have OOPC.");
    var div = document.getElementById("authGuideOE");
    pElem43.appendChild(textNode43);
    div.appendChild(pElem43);
    break;
  case "mayship3":
    const pElem8 = document.createElement("p");
    pElem8.classList.add("bodyTab2");
    const textNode8 = document.createTextNode("Ship part with permision from CH.");
    var div = document.getElementById("rfovrmsrp");
    pElem8.appendChild(textNode8);
    div.appendChild(pElem8);
    break;
  case "rfundmsrp":
    const pElem9 = document.createElement("p");
    pElem9.classList.add("bodyTab2");
    const textNode9 = document.createTextNode("Auth MSRP.");
    var div = document.getElementById("authGuideOE");
    pElem9.appendChild(textNode9);
    div.appendChild(pElem9);
    break;
  case "pricing":
    document.getElementById('authGuideAM').style.display = "none";
    document.getElementById('paGuide').style.display = "inline-block";
    break;
  case "listunder":
    document.getElementById('listUnder').style.display = "inline-block";
    break;
  case "rfovrlist":
    document.getElementById('rfovrlist').style.display = "inline-block";
    break;
  case "rfundlist":
    const pElem1 = document.createElement("p");
    pElem1.classList.add("bodyTab2");
    const textNode1 = document.createTextNode("Auth RF price as its MCE");
    var div = document.getElementById("listUnder");
    pElem1.appendChild(textNode1);
    div.appendChild(pElem1);
    break;
  case "mayship":
    const pElem2 = document.createElement("p");
    pElem2.classList.add("bodyTab2");
    const textNode2 = document.createTextNode("Ship part with permision from CH.");
    var div = document.getElementById("rfovrlist");
    pElem2.appendChild(textNode2);
    div.appendChild(pElem2);
    break;
  case "noship":
    const pElem3 = document.createElement("p");
    pElem3.classList.add("bodyTab2");
    const textNode3 = document.createTextNode("Auth PA List under $250.00 and the remaining balance is OOPC.");
    var div = document.getElementById("rfovrlist");
    pElem3.appendChild(textNode3);
    div.appendChild(pElem3);
    break;
  case "listover":
    document.getElementById('listOver').style.display = "inline-block";
    break;
  case "costund":
    document.getElementById('costund').style.display = "inline-block";
    break;
  case "rfundcost":
    const pElem4 = document.createElement("p");
    pElem4.classList.add("bodyTab2");
    const textNode4 = document.createTextNode("Auth RF price as its MCE.");
    var div = document.getElementById("costund");
    pElem4.appendChild(textNode4);
    div.appendChild(pElem4);
    break;
  case "rfovrcost":
    document.getElementById('rfovrcost').style.display = "inline-block";
    break;
  case "mayship2":
    const pElem5 = document.createElement("p");
    pElem5.classList.add("bodyTab2");
    const textNode5 = document.createTextNode("Ship part with permission from CH.");
    var div = document.getElementById("rfovrcost");
    pElem5.appendChild(textNode5);
    div.appendChild(pElem5);
    break;
  case "noship2":
    const pElem6 = document.createElement("p");
    pElem6.classList.add("bodyTab2");
    const textNode6 = document.createTextNode("Auth PA Cost under $250.00 and the remaining balance is OOP.");
    var div = document.getElementById("rfovrcost");
    pElem6.appendChild(textNode6);
    div.appendChild(pElem6);
    break;
  case "sourcing":
    document.getElementById('authGuide1').style.display = "none";
    document.getElementById('authGuideOE').style.display = "none";
    document.getElementById('authGuideAM').style.display = "none";
    document.getElementById('paGuide').style.display = "none";
    document.getElementById('IHSourcing').style.display = "inline-block";
    break;
  }
}

